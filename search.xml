<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>JMeterå®‰è£…ä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2025/12/30/jmeter/"/>
      <url>/2025/12/30/jmeter/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸€ã€JMeteråŸºç¡€ä»‹ç»"><a href="#ä¸€ã€JMeteråŸºç¡€ä»‹ç»" class="headerlink" title="ä¸€ã€JMeteråŸºç¡€ä»‹ç»"></a>ä¸€ã€JMeteråŸºç¡€ä»‹ç»</h4><h5 id="Apache-JMeter-æ˜¯ä¸€æ¬¾å¼€æºçš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œä¸»è¦ç”¨äºï¼š"><a href="#Apache-JMeter-æ˜¯ä¸€æ¬¾å¼€æºçš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œä¸»è¦ç”¨äºï¼š" class="headerlink" title="Apache JMeter æ˜¯ä¸€æ¬¾å¼€æºçš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œä¸»è¦ç”¨äºï¼š"></a>Apache JMeter æ˜¯ä¸€æ¬¾å¼€æºçš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œä¸»è¦ç”¨äºï¼š</h5><ul><li>Web åº”ç”¨å‹åŠ›æµ‹è¯•</li><li>API æ¥å£æ€§èƒ½æµ‹è¯•</li><li>æ•°æ®åº“è´Ÿè½½æµ‹è¯•</li><li>æ¶ˆæ¯é˜Ÿåˆ—æ€§èƒ½æµ‹è¯•</li></ul><h4 id="äºŒã€å®‰è£…ä¸é…ç½®"><a href="#äºŒã€å®‰è£…ä¸é…ç½®" class="headerlink" title="äºŒã€å®‰è£…ä¸é…ç½®"></a>äºŒã€å®‰è£…ä¸é…ç½®</h4><h5 id="1-ä¸‹è½½å®‰è£…"><a href="#1-ä¸‹è½½å®‰è£…" class="headerlink" title="1.ä¸‹è½½å®‰è£…"></a>1.ä¸‹è½½å®‰è£…</h5><ul><li>å®˜ç½‘ä¸‹è½½ï¼š<a href="https://jmeter.apache.org/download_jmeter.cgi">https://jmeter.apache.org/download_jmeter.cgi</a></li><li>é€‰æ‹©äºŒè¿›åˆ¶åŒ…ï¼ˆå¦‚ï¼šapache-jmeter-5.6.3.zipï¼‰</li><li>è§£å‹åˆ°æœ¬åœ°ç›®å½•</li></ul><h5 id="2-ç¯å¢ƒé…ç½®"><a href="#2-ç¯å¢ƒé…ç½®" class="headerlink" title="2.ç¯å¢ƒé…ç½®"></a>2.ç¯å¢ƒé…ç½®</h5><p>JMeteræ˜¯åŸºäºJavaè¯­è¨€å¼€å‘çš„ï¼Œéœ€å®‰è£…jdk</p><h5 id="3-å¯åŠ¨JMeter"><a href="#3-å¯åŠ¨JMeter" class="headerlink" title="3.å¯åŠ¨JMeter"></a>3.å¯åŠ¨JMeter</h5><pre class="line-numbers language-none"><code class="language-none"># Windowsjmeter.bat# Linux&#x2F;Macjmeter.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¸‰ã€åˆ›å»ºç¬¬ä¸€ä¸ªæµ‹è¯•è®¡åˆ’ï¼ˆç”¨æˆ·æœåŠ¡æ¥å£æµ‹è¯•ï¼‰"><a href="#ä¸‰ã€åˆ›å»ºç¬¬ä¸€ä¸ªæµ‹è¯•è®¡åˆ’ï¼ˆç”¨æˆ·æœåŠ¡æ¥å£æµ‹è¯•ï¼‰" class="headerlink" title="ä¸‰ã€åˆ›å»ºç¬¬ä¸€ä¸ªæµ‹è¯•è®¡åˆ’ï¼ˆç”¨æˆ·æœåŠ¡æ¥å£æµ‹è¯•ï¼‰"></a>ä¸‰ã€åˆ›å»ºç¬¬ä¸€ä¸ªæµ‹è¯•è®¡åˆ’ï¼ˆç”¨æˆ·æœåŠ¡æ¥å£æµ‹è¯•ï¼‰</h4><h5 id="1-åˆ›å»ºæµ‹è¯•è®¡åˆ’"><a href="#1-åˆ›å»ºæµ‹è¯•è®¡åˆ’" class="headerlink" title="1.åˆ›å»ºæµ‹è¯•è®¡åˆ’"></a>1.åˆ›å»ºæµ‹è¯•è®¡åˆ’</h5><p>å³é”®ç‚¹å‡» â€œTest Planâ€ -&gt; Add -&gt; Threads (Users) -&gt; Thread Group</p><ul><li>è®¾ç½®å‚æ•°ï¼š</li><li><ul><li>Number of Threads (users): 100ï¼ˆå¹¶å‘ç”¨æˆ·æ•°ï¼‰</li></ul></li><li><ul><li>Ramp-up period (seconds): 10ï¼ˆ10ç§’å†…å¯åŠ¨æ‰€æœ‰ç”¨æˆ·ï¼‰</li></ul></li><li><ul><li>Loop Count: 50ï¼ˆæ¯ä¸ªç”¨æˆ·æ‰§è¡Œ50æ¬¡ï¼‰</li></ul></li></ul><h5 id="2-æ·»åŠ -HTTP-è¯·æ±‚"><a href="#2-æ·»åŠ -HTTP-è¯·æ±‚" class="headerlink" title="2.æ·»åŠ  HTTP è¯·æ±‚"></a>2.æ·»åŠ  HTTP è¯·æ±‚</h5><ol><li>å³é”® Thread Group -&gt; Add -&gt; Sampler -&gt; HTTP Request</li><li><ul><li>é…ç½® HTTP è¯·æ±‚ï¼š</li></ul></li><li><ul><li>Protocol: http</li></ul></li><li><ul><li>Server Name or IP: localhostï¼ˆç½‘å…³åœ°å€ï¼‰</li></ul></li><li><ul><li>Port Number: 9090ï¼ˆç½‘å…³ç«¯å£ï¼‰</li></ul></li><li><ul><li>Method: GET</li></ul></li><li><ul><li>Path: &#x2F;api&#x2F;users&#x2F;${userId}ï¼ˆä½¿ç”¨å˜é‡ï¼‰</li></ul></li></ol><h5 id="3-æ·»åŠ éšæœºå˜é‡"><a href="#3-æ·»åŠ éšæœºå˜é‡" class="headerlink" title="3.æ·»åŠ éšæœºå˜é‡"></a>3.æ·»åŠ éšæœºå˜é‡</h5><ol><li>å³é”® Thread Group -&gt; Add -&gt; Config Element -&gt; Random Variable</li><li><ul><li>é…ç½®ï¼š</li></ul></li><li><ul><li>Variable Name: userId</li></ul></li><li><ul><li>Minimum Value: 1</li></ul></li><li><ul><li>Maximum Value: 1000</li></ul></li></ol><h5 id="4-æ·»åŠ ç»“æœç›‘å¬å™¨"><a href="#4-æ·»åŠ ç»“æœç›‘å¬å™¨" class="headerlink" title="4.æ·»åŠ ç»“æœç›‘å¬å™¨"></a>4.æ·»åŠ ç»“æœç›‘å¬å™¨</h5><ol><li>å³é”® Thread Group -&gt; Add -&gt; Listener -&gt; View Results Tree</li><li>å³é”® Thread Group -&gt; Add -&gt; Listener -&gt; Summary Report</li><li>å³é”® Thread Group -&gt; Add -&gt; Listener -&gt; Response Time Graph</li></ol><p>ä¿å­˜æµ‹è¯•è®¡åˆ’</p><ul><li>File -&gt; Save As -&gt; user_service_test.jmx</li></ul><h4 id="å››-åˆ›å»ºè®¢å•æœåŠ¡æµ‹è¯•è®¡åˆ’"><a href="#å››-åˆ›å»ºè®¢å•æœåŠ¡æµ‹è¯•è®¡åˆ’" class="headerlink" title="å››.åˆ›å»ºè®¢å•æœåŠ¡æµ‹è¯•è®¡åˆ’"></a>å››.åˆ›å»ºè®¢å•æœåŠ¡æµ‹è¯•è®¡åˆ’</h4><h5 id="1-æ·»åŠ ç¬¬äºŒä¸ªHTTPè¯·æ±‚"><a href="#1-æ·»åŠ ç¬¬äºŒä¸ªHTTPè¯·æ±‚" class="headerlink" title="1.æ·»åŠ ç¬¬äºŒä¸ªHTTPè¯·æ±‚"></a>1.æ·»åŠ ç¬¬äºŒä¸ªHTTPè¯·æ±‚</h5><p>å³é”® Thread Group -&gt; Add -&gt; Sampler -&gt; HTTP Request</p><p>é…ç½®ï¼š</p><ul><li>Method: POST</li><li>Path: &#x2F;orders</li><li>Body Data:<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>     <span class="token property">"customerId"</span><span class="token operator">:</span> <span class="token string">"$&#123;userId&#125;"</span><span class="token punctuation">,</span>     <span class="token property">"productId"</span><span class="token operator">:</span> <span class="token string">"$&#123;productId&#125;"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h5 id="2-æ·»åŠ HTTPå¤´ç®¡ç†å™¨"><a href="#2-æ·»åŠ HTTPå¤´ç®¡ç†å™¨" class="headerlink" title="2.æ·»åŠ HTTPå¤´ç®¡ç†å™¨"></a>2.æ·»åŠ HTTPå¤´ç®¡ç†å™¨</h5><p>å³é”® HTTP Request -&gt; Add -&gt; Config Element -&gt; HTTP Header Manager</p><p>æ·»åŠ å¤´ï¼š</p><ul><li>Name: Content-Type</li><li>Value: application&#x2F;json</li></ul><h4 id="äº”ã€é«˜çº§é…ç½®æŠ€å·§"><a href="#äº”ã€é«˜çº§é…ç½®æŠ€å·§" class="headerlink" title="äº”ã€é«˜çº§é…ç½®æŠ€å·§"></a>äº”ã€é«˜çº§é…ç½®æŠ€å·§</h4><h5 id="1-å‚æ•°åŒ–æµ‹è¯•ï¼ˆcsvæ•°æ®ï¼‰"><a href="#1-å‚æ•°åŒ–æµ‹è¯•ï¼ˆcsvæ•°æ®ï¼‰" class="headerlink" title="1.å‚æ•°åŒ–æµ‹è¯•ï¼ˆcsvæ•°æ®ï¼‰"></a>1.å‚æ•°åŒ–æµ‹è¯•ï¼ˆcsvæ•°æ®ï¼‰</h5><p>åˆ›å»º CSV æ–‡ä»¶ test_data.csvï¼š</p><pre class="line-numbers language-none"><code class="language-none">userId,productId1,P1002,P200...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å³é”® Thread Group -&gt; Add -&gt; Config Element -&gt; CSV Data Set Config</p><ul><li>Filename: æ–‡ä»¶è·¯å¾„</li><li>Variable Names: userId,productId</li><li>Delimiter: ,</li></ul><h5 id="2-ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–æ•°æ®"><a href="#2-ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–æ•°æ®" class="headerlink" title="2.ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–æ•°æ®"></a>2.ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–æ•°æ®</h5><p>åœ¨ç¬¬ä¸€ä¸ªè¯·æ±‚åæ·»åŠ  Post Processorï¼š</p><ul><li>å³é”® HTTP Request -&gt; Add -&gt; Post Processors -&gt; Regular Expression Extractor</li></ul><p>é…ç½®ï¼š</p><ul><li>Reference Name: extractedUserId</li><li>Regular Expression: â€œidâ€:(\d+)</li><li>Template: 1</li></ul><h5 id="3-æ·»åŠ æ–­è¨€éªŒè¯"><a href="#3-æ·»åŠ æ–­è¨€éªŒè¯" class="headerlink" title="3.æ·»åŠ æ–­è¨€éªŒè¯"></a>3.æ·»åŠ æ–­è¨€éªŒè¯</h5><p>å³é”® HTTP Request -&gt; Add -&gt; Assertions -&gt; Response Assertion</p><p>é…ç½®ï¼š</p><ul><li>Field to Test: Response Code</li><li>Pattern Matching Rules: Equals</li><li>Patterns: 200</li></ul><h5 id="4-æ·»åŠ å®šæ—¶å™¨ï¼ˆæ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºï¼‰"><a href="#4-æ·»åŠ å®šæ—¶å™¨ï¼ˆæ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºï¼‰" class="headerlink" title="4.æ·»åŠ å®šæ—¶å™¨ï¼ˆæ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºï¼‰"></a>4.æ·»åŠ å®šæ—¶å™¨ï¼ˆæ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºï¼‰</h5><p>å³é”® Thread Group -&gt; Add -&gt; Timer -&gt; Gaussian Random Timer</p><ul><li>Deviation: 300 ms</li><li>Constant Delay: 500 ms</li></ul><h4 id="å…­ã€æ‰§è¡Œæµ‹è¯•ä¸ç»“æœåˆ†æ"><a href="#å…­ã€æ‰§è¡Œæµ‹è¯•ä¸ç»“æœåˆ†æ" class="headerlink" title="å…­ã€æ‰§è¡Œæµ‹è¯•ä¸ç»“æœåˆ†æ"></a>å…­ã€æ‰§è¡Œæµ‹è¯•ä¸ç»“æœåˆ†æ</h4><h5 id="1-æ‰§è¡Œæµ‹è¯•"><a href="#1-æ‰§è¡Œæµ‹è¯•" class="headerlink" title="1.æ‰§è¡Œæµ‹è¯•"></a>1.æ‰§è¡Œæµ‹è¯•</h5><ul><li>ç‚¹å‡»å·¥å…·æ ç»¿è‰²ç®­å¤´æŒ‰é’®</li></ul><div style="border: 1px solid #ddd; padding: 10px; border-radius: 5px; background: #f9f9f9;">ğŸ’¡ æç¤º: ä½¿ç”¨ GUI æ¨¡å¼è¿›è¡Œè´Ÿè½½æµ‹è¯•éœ€è¦å¢åŠ Javaå †ä»¥æ»¡è¶³æµ‹è¯•è¦æ±‚<br>ä¿®æ”¹jmeter.batæ–‡ä»¶ä¸­å½“å‰ç¯å¢ƒå˜é‡HEAP="-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m"</div><ul><li>æˆ–å‘½ä»¤è¡Œæ‰§è¡Œï¼š<pre class="line-numbers language-none"><code class="language-none">jmeter -n -t service_test.jmx -l results.jtl# -n: éGUIæ¨¡å¼ -t: æµ‹è¯•è®¡åˆ’æ–‡ä»¶ -l: ç»“æœæ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h5 id="2-ç»“æœåˆ†æ"><a href="#2-ç»“æœåˆ†æ" class="headerlink" title="2.ç»“æœåˆ†æ"></a>2.ç»“æœåˆ†æ</h5><p>1.Summary Report:</p><ul><li>æŸ¥çœ‹ååé‡(Throughput)ã€å¹³å‡å“åº”æ—¶é—´(Average)</li><li>é”™è¯¯ç‡(Error %)</li></ul><p>2.Response Time Graph:</p><ul><li>æŸ¥çœ‹å“åº”æ—¶é—´åˆ†å¸ƒ</li></ul><p>3.èšåˆæŠ¥å‘Šç”Ÿæˆ:</p><ul><li>ç”ŸæˆHTMLæŠ¥å‘Š<pre class="line-numbers language-none"><code class="language-none">jmeter -g results.jtl -o report&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h4 id="ä¸ƒã€å¾®æœåŠ¡ä¸“ç”¨æµ‹è¯•æ–¹æ¡ˆ"><a href="#ä¸ƒã€å¾®æœåŠ¡ä¸“ç”¨æµ‹è¯•æ–¹æ¡ˆ" class="headerlink" title="ä¸ƒã€å¾®æœåŠ¡ä¸“ç”¨æµ‹è¯•æ–¹æ¡ˆ"></a>ä¸ƒã€å¾®æœåŠ¡ä¸“ç”¨æµ‹è¯•æ–¹æ¡ˆ</h4><h5 id="1-ç½‘å…³å‹åŠ›æµ‹è¯•é…ç½®"><a href="#1-ç½‘å…³å‹åŠ›æµ‹è¯•é…ç½®" class="headerlink" title="1.ç½‘å…³å‹åŠ›æµ‹è¯•é…ç½®"></a>1.ç½‘å…³å‹åŠ›æµ‹è¯•é…ç½®</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">HTTP Request é…ç½®ï¼š<span class="token punctuation">-</span> <span class="token key atrule">Server</span><span class="token punctuation">:</span> localhost<span class="token punctuation">-</span> <span class="token key atrule">Port</span><span class="token punctuation">:</span> <span class="token number">9090</span><span class="token punctuation">-</span> <span class="token key atrule">Path</span><span class="token punctuation">:</span>   <span class="token punctuation">-</span> /user<span class="token punctuation">-</span>service/users/$<span class="token punctuation">&#123;</span>userId<span class="token punctuation">&#125;</span> (GET)  <span class="token punctuation">-</span> /order<span class="token punctuation">-</span>service/orders (POST)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-åˆ†å¸ƒå¼æµ‹è¯•ï¼ˆå¤šæœºè´Ÿè½½ï¼‰"><a href="#2-åˆ†å¸ƒå¼æµ‹è¯•ï¼ˆå¤šæœºè´Ÿè½½ï¼‰" class="headerlink" title="2.åˆ†å¸ƒå¼æµ‹è¯•ï¼ˆå¤šæœºè´Ÿè½½ï¼‰"></a>2.åˆ†å¸ƒå¼æµ‹è¯•ï¼ˆå¤šæœºè´Ÿè½½ï¼‰</h5><p>1.æ§åˆ¶æœºé…ç½®ï¼š</p><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># jmeter.properties</span><span class="token key attr-name">remote_hosts</span><span class="token punctuation">=</span><span class="token value attr-value">192.168.1.145,192.168.1.174</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>2.æ‰§è¡Œæœºé…ç½®ï¼š</p><pre class="line-numbers language-none"><code class="language-none">jmeter-server.bat # Windowsjmeter-server     # Linux&#x2F;Mac<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>3.é…ç½®rmi</p><pre class="line-numbers language-none"><code class="language-none"># æ§åˆ¶æœºæ‰§è¡Œå‘½ä»¤ï¼Œå°†ç”Ÿæˆçš„ rmi_keystore.jks æ–‡ä»¶å¤åˆ¶åˆ°æ‰€æœ‰æ‰§è¡Œæœºçš„ JMeter bin ç›®å½•keytool -genkey -alias rmi -keyalg RSA -keystore rmi_keystore.jks -validity 365 -keysize 2048 -storepass changeit -keypass changeit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>4.æ§åˆ¶æœºæ‰§è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">jmeter -n -t service_test.jmx -R 192.168.1.145,192.168.1.174 -l result2.jtl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="3-ç›‘æ§é›†æˆï¼ˆGrafanaï¼‰"><a href="#3-ç›‘æ§é›†æˆï¼ˆGrafanaï¼‰" class="headerlink" title="3.ç›‘æ§é›†æˆï¼ˆGrafanaï¼‰"></a>3.ç›‘æ§é›†æˆï¼ˆGrafanaï¼‰</h5><p>1.æ·»åŠ  Backend Listener:</p><ul><li>å³é”® Thread Group -&gt; Add -&gt; Listener -&gt; Backend Listener</li></ul><p>2.é…ç½®ï¼š</p><ul><li>Backend Listener implementation: GrafanaInfluxDBBackendListenerClient</li><li>influxdbUrl: <a href="http://localhost:8086/">http://localhost:8086</a></li><li>application: user-service</li></ul><h4 id="å…«ã€å¸¸è§é—®é¢˜è§£å†³"><a href="#å…«ã€å¸¸è§é—®é¢˜è§£å†³" class="headerlink" title="å…«ã€å¸¸è§é—®é¢˜è§£å†³"></a>å…«ã€å¸¸è§é—®é¢˜è§£å†³</h4><h5 id="1-å†…å­˜æº¢å‡ºé—®é¢˜"><a href="#1-å†…å­˜æº¢å‡ºé—®é¢˜" class="headerlink" title="1.å†…å­˜æº¢å‡ºé—®é¢˜"></a>1.å†…å­˜æº¢å‡ºé—®é¢˜</h5><p>ä¿®æ”¹ jmeter.bat (Windows) æˆ– jmeter (Linux)ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># æ‰¾åˆ° HEAP è®¾ç½®set HEAP&#x3D;-Xms4g -Xmx8g<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="2-é«˜å¹¶å‘ä¸‹Sockeré”™è¯¯"><a href="#2-é«˜å¹¶å‘ä¸‹Sockeré”™è¯¯" class="headerlink" title="2.é«˜å¹¶å‘ä¸‹Sockeré”™è¯¯"></a>2.é«˜å¹¶å‘ä¸‹Sockeré”™è¯¯</h5><p>åœ¨ HTTP Request ä¸­ï¼š</p><ul><li>Implementation: Java</li><li>å‹¾é€‰ â€œUse KeepAliveâ€</li></ul><h5 id="3-ç»“æœæ–‡ä»¶è¿‡å¤§"><a href="#3-ç»“æœæ–‡ä»¶è¿‡å¤§" class="headerlink" title="3.ç»“æœæ–‡ä»¶è¿‡å¤§"></a>3.ç»“æœæ–‡ä»¶è¿‡å¤§</h5><pre class="line-numbers language-none"><code class="language-none"># åªä¿å­˜é”™è¯¯ä¿¡æ¯jmeter -j test.log -l results.jtl -Jjmeter.save.saveservice.assertion_results_failure_message&#x3D;false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ä¹ã€å®Œæ•´æµ‹è¯•è®¡åˆ’ç¤ºä¾‹"><a href="#ä¹ã€å®Œæ•´æµ‹è¯•è®¡åˆ’ç¤ºä¾‹" class="headerlink" title="ä¹ã€å®Œæ•´æµ‹è¯•è®¡åˆ’ç¤ºä¾‹"></a>ä¹ã€å®Œæ•´æµ‹è¯•è®¡åˆ’ç¤ºä¾‹</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jmeterTestPlan</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.2<span class="token punctuation">"</span></span> <span class="token attr-name">properties</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.0<span class="token punctuation">"</span></span> <span class="token attr-name">jmeter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.6.3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TestPlan</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlanGui<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlan<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Test Plan<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlan.comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Spring Cloud å‹åŠ›æµ‹è¯•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>elementProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlan.user_defined_variables<span class="token punctuation">"</span></span> <span class="token attr-name">elementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments<span class="token punctuation">"</span></span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ArgumentsPanel<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User Defined Variables<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collectionProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments.arguments<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>elementProp</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TestPlan</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ThreadGroup</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroupGui<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Thread Group<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlan.comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æµ‹è¯•è®¡åˆ’<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup.num_threads<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup.ramp_time<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup.same_user_on_next_iteration<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup.on_sample_error<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>continue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>elementProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ThreadGroup.main_controller<span class="token punctuation">"</span></span> <span class="token attr-name">elementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>LoopController<span class="token punctuation">"</span></span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>LoopControlPanel<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>LoopController<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Loop Controller<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>LoopController.loops<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>LoopController.continue_forever<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>elementProp</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ThreadGroup</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HTTPSamplerProxy</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HttpTestSampleGui<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSamplerProxy<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTP Request<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlan.comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”¨æˆ·æœåŠ¡æ¥å£<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.domain<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>localhost<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.port<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>9090<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.protocol<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>http<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.path<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/api/users/$&#123;userId&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.follow_redirects<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.method<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>GET<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.use_keepalive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.postBodyRaw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>elementProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPsampler.Arguments<span class="token punctuation">"</span></span> <span class="token attr-name">elementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments<span class="token punctuation">"</span></span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPArgumentsPanel<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User Defined Variables<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collectionProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments.arguments<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>elementProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HTTPSamplerProxy</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RegexExtractor</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RegexExtractorGui<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RegexExtractor<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Regular Expression Extractor<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RegexExtractor.useHeaders<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RegexExtractor.refname<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>extractedUserId<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RegexExtractor.regex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&quot;">&amp;quot;</span>id<span class="token entity named-entity" title="&quot;">&amp;quot;</span>:(\d+)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RegexExtractor.template<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RegexExtractor.default<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RegexExtractor.default_empty_value<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RegexExtractor.match_number<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RegexExtractor</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResponseAssertion</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>AssertionGui<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ResponseAssertion<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Response Assertion<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collectionProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Asserion.test_strings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>49586<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>200<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collectionProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Assertion.custom_message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Assertion.test_field<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Assertion.response_code<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Assertion.assume_success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Assertion.test_type<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ResponseAssertion</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hashTree</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RandomVariableConfig</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestBeanGUI<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RandomVariableConfig<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userId<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>maximumValue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>minimumValue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>outputFormat<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>perThread<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>randomSeed<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>variableName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>userId<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlan.comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>éšæœºå˜é‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RandomVariableConfig</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResultCollector</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ViewResultsFullVisualizer<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ResultCollector<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>View Results Tree<span class="token punctuation">"</span></span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ResultCollector.error_logging<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>objProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>saveConfig<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SampleSaveConfiguration<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>latency</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>latency</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timestamp</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timestamp</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>success</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>success</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>message</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>message</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadName</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadName</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataType</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataType</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoding</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoding</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assertions</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assertions</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>subresults</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>subresults</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseData</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseData</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>samplerData</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>samplerData</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xml</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xml</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldNames</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldNames</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseHeaders</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseHeaders</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>requestHeaders</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>requestHeaders</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseDataOnError</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseDataOnError</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>saveAssertionResultsFailureMessage</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>saveAssertionResultsFailureMessage</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assertionsResultsToSave</span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assertionsResultsToSave</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bytes</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bytes</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sentBytes</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sentBytes</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadCounts</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadCounts</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>idleTime</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>idleTime</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>connectTime</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>connectTime</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>objProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>filename<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ResultCollector</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResultCollector</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SummaryReport<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ResultCollector<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Summary Report<span class="token punctuation">"</span></span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ResultCollector.error_logging<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>objProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>saveConfig<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SampleSaveConfiguration<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>latency</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>latency</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timestamp</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timestamp</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>success</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>success</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>message</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>message</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadName</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadName</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataType</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataType</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoding</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoding</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assertions</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assertions</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>subresults</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>subresults</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseData</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseData</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>samplerData</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>samplerData</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xml</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xml</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldNames</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldNames</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseHeaders</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseHeaders</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>requestHeaders</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>requestHeaders</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseDataOnError</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseDataOnError</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>saveAssertionResultsFailureMessage</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>saveAssertionResultsFailureMessage</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assertionsResultsToSave</span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assertionsResultsToSave</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bytes</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bytes</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sentBytes</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sentBytes</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadCounts</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadCounts</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>idleTime</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>idleTime</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>connectTime</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>connectTime</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>objProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>filename<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ResultCollector</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResultCollector</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RespTimeGraphVisualizer<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ResultCollector<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Response Time Graph<span class="token punctuation">"</span></span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ResultCollector.error_logging<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>objProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>saveConfig<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SampleSaveConfiguration<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>latency</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>latency</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timestamp</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timestamp</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>success</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>success</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>message</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>message</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadName</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadName</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataType</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataType</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoding</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoding</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assertions</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assertions</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>subresults</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>subresults</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseData</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseData</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>samplerData</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>samplerData</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xml</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xml</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldNames</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldNames</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseHeaders</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseHeaders</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>requestHeaders</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>requestHeaders</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseDataOnError</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseDataOnError</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>saveAssertionResultsFailureMessage</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>saveAssertionResultsFailureMessage</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assertionsResultsToSave</span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assertionsResultsToSave</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bytes</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bytes</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sentBytes</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sentBytes</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadCounts</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadCounts</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>idleTime</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>idleTime</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>connectTime</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>connectTime</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>objProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>filename<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ResultCollector</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HTTPSamplerProxy</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HttpTestSampleGui<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSamplerProxy<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTP Request<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlan.comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è®¢å•æœåŠ¡æ¥å£<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.domain<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>localhost<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.port<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>8083<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.protocol<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>http<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.path<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/orders<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.follow_redirects<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.method<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>POST<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.use_keepalive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPSampler.postBodyRaw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>elementProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPsampler.Arguments<span class="token punctuation">"</span></span> <span class="token attr-name">elementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collectionProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Arguments.arguments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>elementProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">elementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPArgument<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTPArgument.always_encode<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Argument.value<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;<span class="token entity" title="&#xd;">&amp;#xd;</span>                                    <span class="token entity named-entity" title="&quot;">&amp;quot;</span>customerId<span class="token entity named-entity" title="&quot;">&amp;quot;</span>: <span class="token entity named-entity" title="&quot;">&amp;quot;</span>$&#123;userId&#125;<span class="token entity named-entity" title="&quot;">&amp;quot;</span>,<span class="token entity" title="&#xd;">&amp;#xd;</span>                                    <span class="token entity named-entity" title="&quot;">&amp;quot;</span>productId<span class="token entity named-entity" title="&quot;">&amp;quot;</span>: <span class="token entity named-entity" title="&quot;">&amp;quot;</span>$&#123;productId&#125;<span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token entity" title="&#xd;">&amp;#xd;</span>                                    &#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Argument.metadata<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>elementProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collectionProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>elementProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HTTPSamplerProxy</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HeaderManager</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HeaderPanel<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HeaderManager<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTP Header Manager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collectionProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HeaderManager.headers<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>elementProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">elementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Header.name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Content-Type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Header.value<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>application/json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>elementProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collectionProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HeaderManager</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hashTree</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CSVDataSet</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestBeanGUI<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>CSVDataSet<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>CSV Data Set Config<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>delimiter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>,<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileEncoding<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>filename<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>D:/backRepo/demo1/test_data.csv<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ignoreFirstLine<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>quotedData<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>recycle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shareMode<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>shareMode.all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stopThread<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>variableNames<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>userId,productId<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TestPlan.comments<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è®¢å•æœåŠ¡æµ‹è¯•æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>CSVDataSet</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GaussianRandomTimer</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>GaussianRandomTimerGui<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>GaussianRandomTimer<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Gaussian Random Timer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ConstantTimer.delay<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>300<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RandomTimer.range<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>200.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>GaussianRandomTimer</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ResultCollector</span> <span class="token attr-name">guiclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>StatVisualizer<span class="token punctuation">"</span></span> <span class="token attr-name">testclass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ResultCollector<span class="token punctuation">"</span></span> <span class="token attr-name">testname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Aggregate Report<span class="token punctuation">"</span></span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ResultCollector.error_logging<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>objProp</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>saveConfig<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SampleSaveConfiguration<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>latency</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>latency</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>timestamp</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>timestamp</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>success</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>success</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>message</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>message</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadName</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadName</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataType</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataType</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoding</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoding</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assertions</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assertions</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>subresults</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>subresults</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseData</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseData</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>samplerData</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>samplerData</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xml</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xml</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldNames</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldNames</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseHeaders</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseHeaders</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>requestHeaders</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>requestHeaders</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>responseDataOnError</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>responseDataOnError</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>saveAssertionResultsFailureMessage</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>saveAssertionResultsFailureMessage</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assertionsResultsToSave</span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assertionsResultsToSave</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bytes</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bytes</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sentBytes</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sentBytes</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadCounts</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadCounts</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>idleTime</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>idleTime</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>connectTime</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>connectTime</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>objProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stringProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>filename<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stringProp</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolProp</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>useGroupName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>boolProp</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ResultCollector</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hashTree</span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hashTree</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hashTree</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hashTree</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jmeterTestPlan</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åã€æœ€ä½³å®è·µå»ºè®®"><a href="#åã€æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="åã€æœ€ä½³å®è·µå»ºè®®"></a>åã€æœ€ä½³å®è·µå»ºè®®</h4><h5 id="1-æ¸è¿›å¼æµ‹è¯•"><a href="#1-æ¸è¿›å¼æµ‹è¯•" class="headerlink" title="1.æ¸è¿›å¼æµ‹è¯•"></a>1.æ¸è¿›å¼æµ‹è¯•</h5><ul><li>ä» 10 ç”¨æˆ·å¼€å§‹ï¼Œé€æ­¥å¢åŠ å¹¶å‘é‡</li><li>æ¯æ¬¡å¢åŠ åè§‚å¯Ÿç³»ç»Ÿè¡¨ç°</li></ul><h5 id="2-å…³é”®ç›‘æ§æŒ‡æ ‡"><a href="#2-å…³é”®ç›‘æ§æŒ‡æ ‡" class="headerlink" title="2.å…³é”®ç›‘æ§æŒ‡æ ‡"></a>2.å…³é”®ç›‘æ§æŒ‡æ ‡</h5><pre class="line-numbers language-none"><code class="language-none"># ä½¿ç”¨ JMeter æ’ä»¶ç®¡ç†å™¨å®‰è£…é¢å¤–ç›‘æ§https:&#x2F;&#x2F;jmeter-plugins.org&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>Transactions per Second (TPS)</li><li>95th Percentile Response Time</li><li>Error Rate</li></ul><h5 id="3-æµ‹è¯•æŠ¥å‘Šå…³é”®ç‚¹ï¼š"><a href="#3-æµ‹è¯•æŠ¥å‘Šå…³é”®ç‚¹ï¼š" class="headerlink" title="3.æµ‹è¯•æŠ¥å‘Šå…³é”®ç‚¹ï¼š"></a>3.æµ‹è¯•æŠ¥å‘Šå…³é”®ç‚¹ï¼š</h5><ul><li>ç¡®å®šç³»ç»Ÿç“¶é¢ˆï¼ˆCPU&#x2F;å†…å­˜&#x2F;æ•°æ®åº“&#x2F;ç½‘ç»œï¼‰</li><li>è¯†åˆ«æœ€ä½³å¹¶å‘ç”¨æˆ·æ•°</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> JMeter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringCloudå¾®æœåŠ¡-Nacos + MQ</title>
      <link href="/2025/12/26/sc-demo2/"/>
      <url>/2025/12/26/sc-demo2/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸€ã€å¼€å‘ç¯å¢ƒä¸å·¥å…·"><a href="#ä¸€ã€å¼€å‘ç¯å¢ƒä¸å·¥å…·" class="headerlink" title="ä¸€ã€å¼€å‘ç¯å¢ƒä¸å·¥å…·"></a>ä¸€ã€å¼€å‘ç¯å¢ƒä¸å·¥å…·</h4><ul><li>jdk8</li><li>maven</li><li>Intellij IDEA</li></ul><h4 id="äºŒã€å·¥ç¨‹æ„å»º"><a href="#äºŒã€å·¥ç¨‹æ„å»º" class="headerlink" title="äºŒã€å·¥ç¨‹æ„å»º"></a>äºŒã€å·¥ç¨‹æ„å»º</h4><h5 id="2-1-æ„å»ºçˆ¶å­å·¥ç¨‹"><a href="#2-1-æ„å»ºçˆ¶å­å·¥ç¨‹" class="headerlink" title="2.1 æ„å»ºçˆ¶å­å·¥ç¨‹"></a>2.1 æ„å»ºçˆ¶å­å·¥ç¨‹</h5><h6 id="2-1-1-åˆ›å»ºçˆ¶å·¥ç¨‹"><a href="#2-1-1-åˆ›å»ºçˆ¶å·¥ç¨‹" class="headerlink" title="2.1.1 åˆ›å»ºçˆ¶å·¥ç¨‹"></a>2.1.1 åˆ›å»ºçˆ¶å·¥ç¨‹</h6><p>1.åˆ›å»ºä¸€ä¸ªspring booté¡¹ç›®æˆ–è€…ç©ºé¡¹ç›®ï¼Œå»æ‰srcç›®å½•ï¼Œåªä¿ç•™pom.xml<br>ç›®å½•ç»“æ„å¦‚å›¾<br>   <img src="/medias/images/sc1.png" alt="å›¾ç‰‡"><br>   <img src="/medias/images/sc2.png" alt="å›¾ç‰‡"><br>2.å®Œå–„çˆ¶å·¥ç¨‹pomæ–‡ä»¶</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.wwx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud_demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>cloud_demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.7.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- lookup parent from repository --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-cloud.version</span><span class="token punctuation">></span></span>2021.0.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-cloud.version</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!-- å…¼å®¹Spring Boot 2.7.x --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-cloud-alibaba.version</span><span class="token punctuation">></span></span>2021.0.5.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-cloud-alibaba.version</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>         <span class="token comment">&lt;!-- Nacos ä¾èµ–ç‰ˆæœ¬--></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;spring-cloud-alibaba.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;spring-cloud-alibaba.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- ç¼–è¯‘æ’ä»¶ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.10.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">></span></span>$&#123;maven.compiler.source&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">></span></span>$&#123;maven.compiler.target&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- Spring Boot Maven æ’ä»¶ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çˆ¶POMä½¿ç”¨dependencyManagementç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬<br><br>å­æ¨¡å—åœ¨dependenciesä¸­å£°æ˜å®é™…éœ€è¦çš„ä¾èµ–ï¼Œå¯ä»¥çœç•¥ç‰ˆæœ¬å·<br><br>å•æ¨¡å—é¡¹ç›®å¯ä»¥ä¸ç”¨dependencyManagementï¼Œç›´æ¥åœ¨dependenciesä¸­å£°æ˜</p><h6 id="2-1-2-åˆ›å»ºå­é¡¹ç›®é€šç”¨model"><a href="#2-1-2-åˆ›å»ºå­é¡¹ç›®é€šç”¨model" class="headerlink" title="2.1.2 åˆ›å»ºå­é¡¹ç›®é€šç”¨model"></a>2.1.2 åˆ›å»ºå­é¡¹ç›®é€šç”¨model</h6><p><img src="/medias/images/sc3.png" alt="å›¾ç‰‡"><br>å…¶ä»–æ¨¡å—åˆ›å»ºæ–¹å¼ç±»ä¼¼ï¼Œmodelä¹Ÿå¯ä»¥é€‰æ‹©åˆ›å»ºspringbooté¡¹ç›®å†ç¼–è¾‘pomæ–‡ä»¶å³å¯<br><br>é¡¹ç›®ç»“æ„</p><pre class="line-numbers language-none"><code class="language-none">spring-cloud-demo&#x2F;â”œâ”€â”€ cloud-common          # å…¬å…±æ¨¡å—â”œâ”€â”€ user-service          # ç”¨æˆ·æœåŠ¡â”œâ”€â”€ order-service         # è®¢å•æœåŠ¡â”œâ”€â”€ gateway-service       # APIç½‘å…³â””â”€â”€ nacos-config          # Nacosé…ç½®ç®¡ç†<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-2-æ­å»ºNacosæœåŠ¡å‘ç°ä¸­å¿ƒ"><a href="#2-2-æ­å»ºNacosæœåŠ¡å‘ç°ä¸­å¿ƒ" class="headerlink" title="2.2 æ­å»ºNacosæœåŠ¡å‘ç°ä¸­å¿ƒ"></a>2.2 æ­å»ºNacosæœåŠ¡å‘ç°ä¸­å¿ƒ</h5><p>ä¸‹è½½å¹¶å¯åŠ¨Nacos Serverï¼Œå®‰è£…å¯åŠ¨æ•™ç¨‹è¯¦è§æœ¬åšå®¢å¦ä¸€ç¯‡æ–‡ç« </p><pre class="line-numbers language-none"><code class="language-none"># å•æœºæ¨¡å¼å¯åŠ¨ linuxsh startup.sh -m standalone# è¿›å…¥nacos&#x2F;binç›®å½•ä¸‹ window.&#x2F;startup.cmd -m standalone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-3-æ‰€æœ‰å¾®æœåŠ¡æ·»åŠ ä¾èµ–"><a href="#2-3-æ‰€æœ‰å¾®æœåŠ¡æ·»åŠ ä¾èµ–" class="headerlink" title="2.3 æ‰€æœ‰å¾®æœåŠ¡æ·»åŠ ä¾èµ–"></a>2.3 æ‰€æœ‰å¾®æœåŠ¡æ·»åŠ ä¾èµ–</h5><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-4-é…ç½®Nacosè¿æ¥"><a href="#2-4-é…ç½®Nacosè¿æ¥" class="headerlink" title="2.4 é…ç½®Nacosè¿æ¥"></a>2.4 é…ç½®Nacosè¿æ¥</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>   <span class="token key atrule">config</span><span class="token punctuation">:</span>      <span class="token key atrule">import</span><span class="token punctuation">:</span> nacos<span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>spring.application.name<span class="token punctuation">&#125;</span>   <span class="token comment"># åŠ è½½é€šç”¨é…ç½®</span>   <span class="token key atrule">cloud</span><span class="token punctuation">:</span>      <span class="token key atrule">nacos</span><span class="token punctuation">:</span>         <span class="token key atrule">discovery</span><span class="token punctuation">:</span>            <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>            <span class="token key atrule">namespace</span><span class="token punctuation">:</span> 0475ca81<span class="token punctuation">-</span>cb6f<span class="token punctuation">-</span>454e<span class="token punctuation">-</span>9882<span class="token punctuation">-</span>5972fee62210  <span class="token comment"># å‘½åç©ºé—´éš”ç¦»</span>            <span class="token key atrule">group</span><span class="token punctuation">:</span> CLOUD_DEMO<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>bootstrap.yml åœ¨ Spring Cloud 2020.xï¼ˆåŠæ›´é«˜ç‰ˆæœ¬ï¼‰ä¸­é»˜è®¤å·²è¢«å¼ƒç”¨ï¼Œæ”¹ä¸ºä½¿ç”¨ application.yml + æ˜¾å¼å¯¼å…¥é…ç½®çš„æ–¹å¼</p><ul><li>ç›´æ¥åœ¨ application.yml ä¸­é…ç½® Nacosï¼Œä½†éœ€é€šè¿‡ spring.config.import æ˜¾å¼å¯¼å…¥ Nacos é…ç½®</li></ul><h5 id="2-5-é›†æˆæ¶ˆæ¯é˜Ÿåˆ—"><a href="#2-5-é›†æˆæ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="2.5 é›†æˆæ¶ˆæ¯é˜Ÿåˆ—"></a>2.5 é›†æˆæ¶ˆæ¯é˜Ÿåˆ—</h5><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨RabbitMQ æœåŠ¡ï¼Œå®‰è£…å¯åŠ¨æ•™ç¨‹è¯¦è§æœ¬åšå®¢å¦ä¸€ç¯‡æ–‡ç« </p><h5 id="2-6-é…ç½®RabbitMQ"><a href="#2-6-é…ç½®RabbitMQ" class="headerlink" title="2.6 é…ç½®RabbitMQ"></a>2.6 é…ç½®RabbitMQ</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>   <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span>      <span class="token key atrule">username</span><span class="token punctuation">:</span> guest      <span class="token key atrule">password</span><span class="token punctuation">:</span> guest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…(è®¢å•æœåŠ¡)ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RabbitTemplate</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PostMapping</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">&#123;</span>        <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RabbitTemplate</span> rabbitTemplate<span class="token punctuation">;</span>        <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/orders"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">createOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// ä¸šåŠ¡é€»è¾‘...</span>        <span class="token class-name">OrderDTO</span> orderDTO <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrderDTO</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        orderDTO<span class="token punctuation">.</span><span class="token function">setOrderId</span><span class="token punctuation">(</span><span class="token string">"test123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        orderDTO<span class="token punctuation">.</span><span class="token function">setCustomerId</span><span class="token punctuation">(</span><span class="token string">"test456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        rabbitTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span><span class="token string">"order.event.exchange"</span><span class="token punctuation">,</span>                                     <span class="token string">"order.create"</span><span class="token punctuation">,</span>                                     orderDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"Order created"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹è€…(ç”¨æˆ·æœåŠ¡)ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Exchange</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Queue</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">QueueBinding</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RabbitListener</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Message</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>handler<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Header</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderEventListener</span> <span class="token punctuation">&#123;</span>   <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>bindings <span class="token operator">=</span> <span class="token annotation punctuation">@QueueBinding</span><span class="token punctuation">(</span>           value <span class="token operator">=</span> <span class="token annotation punctuation">@Queue</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"user.order.queue"</span><span class="token punctuation">,</span> durable <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>           exchange <span class="token operator">=</span> <span class="token annotation punctuation">@Exchange</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"order.event.exchange"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"topic"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>           key <span class="token operator">=</span> <span class="token string">"order.*"</span>   <span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleOrderEvent</span><span class="token punctuation">(</span><span class="token class-name">OrderDTO</span> order<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// å¤„ç†è®¢å•äº‹ä»¶</span>      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span>   <span class="token comment">/**    * ä¸¤ä¸ª @RabbitListener æ–¹æ³•ç›‘å¬ åŒä¸€ä¸ªé˜Ÿåˆ—ï¼ˆuser.order.queueï¼‰ï¼ŒRabbitMQ ä¼šï¼š    * è½®è¯¢åˆ†å‘æ¶ˆæ¯ï¼ˆRound-Robinï¼‰ç»™ä¸åŒçš„æ¶ˆè´¹è€…ã€‚    * ä¸ä¼šé‡å¤æ¶ˆè´¹åŒä¸€æ¡æ¶ˆæ¯ï¼ˆå³ä¸€æ¡æ¶ˆæ¯åªä¼šè¢«ä¸€ä¸ªç›‘å¬å™¨å¤„ç†ï¼‰ã€‚    * @param order    * @param routingKey    * @param message    */</span>   <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>bindings <span class="token operator">=</span> <span class="token annotation punctuation">@QueueBinding</span><span class="token punctuation">(</span>           value <span class="token operator">=</span> <span class="token annotation punctuation">@Queue</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"user.order.queue"</span><span class="token punctuation">,</span> durable <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>           exchange <span class="token operator">=</span> <span class="token annotation punctuation">@Exchange</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"order.event.exchange"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"topic"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>           key <span class="token operator">=</span> <span class="token string">"order.cancel"</span>   <span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleOrderCancel</span><span class="token punctuation">(</span><span class="token class-name">OrderDTO</span> order<span class="token punctuation">,</span> <span class="token annotation punctuation">@Header</span><span class="token punctuation">(</span><span class="token string">"amqp_receivedRoutingKey"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> routingKey<span class="token punctuation">,</span> <span class="token class-name">Message</span> message<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// å¤„ç†è®¢å•å–æ¶ˆäº‹ä»¶</span>      <span class="token class-name">String</span> routingKey2 <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">getMessageProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getReceivedRoutingKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-7-æ­å»ºAPIç½‘å…³"><a href="#2-7-æ­å»ºAPIç½‘å…³" class="headerlink" title="2.7 æ­å»ºAPIç½‘å…³"></a>2.7 æ­å»ºAPIç½‘å…³</h5><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-gateway<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-loadbalancer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Eureka æ—¶ä»£çš„è´Ÿè½½å‡è¡¡</p><ul><li>Netflix Ribbonï¼ˆæ—§ç‰ˆé»˜è®¤ï¼‰ åœ¨æ—©æœŸçš„ Spring Cloud ç‰ˆæœ¬ï¼ˆå¦‚ Hoxton åŠä¹‹å‰ï¼‰ï¼Œå½“ä½¿ç”¨ Eureka ä½œä¸ºæ³¨å†Œä¸­å¿ƒæ—¶ï¼Œspring-cloud-starter-netflix-ribbon ä¼šè‡ªåŠ¨è¢«é—´æ¥å¼•å…¥ï¼ˆä¾‹å¦‚é€šè¿‡ spring-cloud-starter-netflix-eureka-clientï¼‰<pre class="line-numbers language-none"><code class="language-none">ç¤ºä¾‹ä¾èµ–ä¼ é€’è·¯å¾„ï¼šeureka-client â†’ ribbon â†’ ribbon-loadbalancer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><p>Spring Cloud 2020 åçš„å˜åŒ–</p><ul><li>Ribbon è¿›å…¥ç»´æŠ¤æ¨¡å¼ Netflix å®£å¸ƒ Ribbon è¿›å…¥ç»´æŠ¤çŠ¶æ€ï¼ŒSpring Cloud é€æ­¥ç§»é™¤å¯¹ Ribbon çš„é»˜è®¤ä¾èµ–ã€‚</li><li>Spring Cloud LoadBalancerï¼ˆSCLï¼‰ Spring å®˜æ–¹æ¨å‡ºäº†æ–°çš„è´Ÿè½½å‡è¡¡å™¨ spring-cloud-loadbalancerï¼Œæˆä¸ºé»˜è®¤å®ç°ï¼ˆä» 2020.0.x å¼€å§‹ï¼‰ã€‚</li></ul><p>Gateway çš„è´Ÿè½½å‡è¡¡ä¾èµ–</p><ul><li>lb:&#x2F;&#x2F;service-name è¯­æ³•ä¾èµ–è´Ÿè½½å‡è¡¡å™¨ Gateway çš„è·¯ç”±é…ç½®ä¸­ uri: lb:&#x2F;&#x2F;user-service çš„ lb å‰ç¼€éœ€è¦åº•å±‚è´Ÿè½½å‡è¡¡å™¨æ”¯æŒã€‚</li><li>Spring Cloud Gateway çš„è½»é‡åŒ–è®¾è®¡ Gateway çš„ Starter é»˜è®¤ä¸ä¼ é€’è´Ÿè½½å‡è¡¡ä¾èµ–ï¼ˆé¿å…å¼ºç»‘å®šæŸä¸€å®ç°ï¼‰ï¼Œéœ€å¼€å‘è€…æ˜¾å¼é€‰æ‹©ã€‚</li></ul><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># é…ç½®è·¯ç”±è§„åˆ™</span><span class="token key atrule">server</span><span class="token punctuation">:</span>   <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9090</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>   <span class="token key atrule">cloud</span><span class="token punctuation">:</span>      <span class="token key atrule">gateway</span><span class="token punctuation">:</span>         <span class="token key atrule">routes</span><span class="token punctuation">:</span>            <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> user<span class="token punctuation">-</span>service              <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//user<span class="token punctuation">-</span>service              <span class="token key atrule">predicates</span><span class="token punctuation">:</span>                 <span class="token punctuation">-</span> Path=/api/users/<span class="token important">**</span>              <span class="token key atrule">filters</span><span class="token punctuation">:</span>                 <span class="token punctuation">-</span> StripPrefix=1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-8-é…ç½®ä¸­å¿ƒ-Nacos-Config"><a href="#2-8-é…ç½®ä¸­å¿ƒ-Nacos-Config" class="headerlink" title="2.8 é…ç½®ä¸­å¿ƒ(Nacos Config)"></a>2.8 é…ç½®ä¸­å¿ƒ(Nacos Config)</h5><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é…ç½®application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>   <span class="token key atrule">application</span><span class="token punctuation">:</span>      <span class="token key atrule">name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>config   <span class="token key atrule">config</span><span class="token punctuation">:</span>      <span class="token key atrule">import</span><span class="token punctuation">:</span> nacos<span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>spring.application.name<span class="token punctuation">&#125;</span>   <span class="token comment"># åŠ è½½é€šç”¨é…ç½®</span>   <span class="token key atrule">profiles</span><span class="token punctuation">:</span>      <span class="token key atrule">active</span><span class="token punctuation">:</span> dev   <span class="token key atrule">cloud</span><span class="token punctuation">:</span>      <span class="token key atrule">nacos</span><span class="token punctuation">:</span>         <span class="token key atrule">config</span><span class="token punctuation">:</span>            <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>            <span class="token key atrule">file-extension</span><span class="token punctuation">:</span> yaml            <span class="token key atrule">namespace</span><span class="token punctuation">:</span> 0475ca81<span class="token punctuation">-</span>cb6f<span class="token punctuation">-</span>454e<span class="token punctuation">-</span>9882<span class="token punctuation">-</span>5972fee62210            <span class="token key atrule">group</span><span class="token punctuation">:</span> CLOUD_DEMO         <span class="token comment"># æœåŠ¡å‘ç°ï¼ˆDiscoveryï¼‰è®¾ç½®</span>         <span class="token key atrule">discovery</span><span class="token punctuation">:</span>            <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>            <span class="token key atrule">namespace</span><span class="token punctuation">:</span> 0475ca81<span class="token punctuation">-</span>cb6f<span class="token punctuation">-</span>454e<span class="token punctuation">-</span>9882<span class="token punctuation">-</span>5972fee62210            <span class="token key atrule">group</span><span class="token punctuation">:</span> CLOUD_DEMO  <span class="token comment"># æœåŠ¡æ³¨å†Œåˆ†ç»„ï¼ˆå…³é”®ï¼ï¼‰</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨Nacosæ§åˆ¶å°æ·»åŠ é…ç½®</p><pre class="line-numbers language-none"><code class="language-none">Data ID: user-serviceGroup: CLOUD_DEMOé…ç½®å†…å®¹:server:  port: 8081spring:  datasource:    url: jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;user_db    username: root    password: 123456<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä»–æœåŠ¡å¼•å…¥é…ç½®ç¤ºä¾‹</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>    <span class="token key atrule">active</span><span class="token punctuation">:</span> dev  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> user<span class="token punctuation">-</span>service  <span class="token key atrule">config</span><span class="token punctuation">:</span>    <span class="token key atrule">import</span><span class="token punctuation">:</span> nacos<span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>spring.application.name<span class="token punctuation">&#125;</span>   <span class="token comment"># åŠ è½½é€šç”¨é…ç½®</span>  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>        <span class="token key atrule">namespace</span><span class="token punctuation">:</span> 0475ca81<span class="token punctuation">-</span>cb6f<span class="token punctuation">-</span>454e<span class="token punctuation">-</span>9882<span class="token punctuation">-</span>5972fee62210  <span class="token comment"># å‘½åç©ºé—´éš”ç¦»</span>        <span class="token key atrule">group</span><span class="token punctuation">:</span> CLOUD_DEMO      <span class="token key atrule">config</span><span class="token punctuation">:</span>        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>        <span class="token key atrule">file-extension</span><span class="token punctuation">:</span> yaml        <span class="token key atrule">group</span><span class="token punctuation">:</span> CLOUD_DEMO        <span class="token key atrule">namespace</span><span class="token punctuation">:</span> 0475ca81<span class="token punctuation">-</span>cb6f<span class="token punctuation">-</span>454e<span class="token punctuation">-</span>9882<span class="token punctuation">-</span>5972fee62210  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span>    <span class="token key atrule">username</span><span class="token punctuation">:</span> guest    <span class="token key atrule">password</span><span class="token punctuation">:</span> guest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-9-æœåŠ¡è°ƒç”¨-OpenFeign"><a href="#2-9-æœåŠ¡è°ƒç”¨-OpenFeign" class="headerlink" title="2.9 æœåŠ¡è°ƒç”¨(OpenFeign)"></a>2.9 æœåŠ¡è°ƒç”¨(OpenFeign)</h5><p>æ·»åŠ ä¾èµ–</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è®¢å•æœåŠ¡åˆ›å»ºFeignå®¢æˆ·ç«¯ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"user-service"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserClient</span> <span class="token punctuation">&#123;</span>        <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/users/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token class-name">UserDTO</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨å¯åŠ¨ç±»æ·»åŠ æ³¨è§£ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">EnableDiscoveryClient</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">EnableFeignClients</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@EnableFeignClients</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableFeignClients</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¸‰ã€æµ‹è¯•ä¸å¯åŠ¨"><a href="#ä¸‰ã€æµ‹è¯•ä¸å¯åŠ¨" class="headerlink" title="ä¸‰ã€æµ‹è¯•ä¸å¯åŠ¨"></a>ä¸‰ã€æµ‹è¯•ä¸å¯åŠ¨</h4><h5 id="3-1-å¯åŠ¨é¡ºåº"><a href="#3-1-å¯åŠ¨é¡ºåº" class="headerlink" title="3.1 å¯åŠ¨é¡ºåº"></a>3.1 å¯åŠ¨é¡ºåº</h5><ol><li><p>å¯åŠ¨Nacos Server</p></li><li><p>å¯åŠ¨RabbitMQ</p></li><li><p>å¯åŠ¨åŸºç¡€æœåŠ¡(æŒ‰é¡ºåº)ï¼š </p></li><li><ul><li>é…ç½®ä¸­å¿ƒ(nacos-config)</li></ul></li><li><ul><li>ç½‘å…³æœåŠ¡(gateway-service)</li></ul></li><li><p>å¯åŠ¨ä¸šåŠ¡æœåŠ¡(å¯å¹¶è¡Œ)ï¼š</p></li><li><ul><li>user-service</li></ul></li><li><ul><li>order-service</li></ul></li></ol><h5 id="3-2-æµ‹è¯•éªŒè¯"><a href="#3-2-æµ‹è¯•éªŒè¯" class="headerlink" title="3.2 æµ‹è¯•éªŒè¯"></a>3.2 æµ‹è¯•éªŒè¯</h5><ul><li>è®¿é—®Nacosæ§åˆ¶å°(<a href="http://localhost:8848/">http://localhost:8848</a>) æŸ¥çœ‹æœåŠ¡æ³¨å†Œæƒ…å†µ</li><li>é€šè¿‡ç½‘å…³è®¿é—®æœåŠ¡ï¼šGET <a href="http://localhost:9090/api/users/1">http://localhost:9090/api/users/1</a></li><li>æµ‹è¯•æ¶ˆæ¯é˜Ÿåˆ—ï¼šPOST <a href="http://localhost:8083/orders">http://localhost:8083/orders</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Nacos </tag>
            
            <tag> å¾®æœåŠ¡ </tag>
            
            <tag> MQ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nacos Server ä¸‹è½½ä¸å¯åŠ¨æ•™ç¨‹</title>
      <link href="/2025/12/25/nacos/"/>
      <url>/2025/12/25/nacos/</url>
      
        <content type="html"><![CDATA[<h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><h4 id="ç¬¬ä¸€æ­¥ï¼šä¸‹è½½Nacos-Server"><a href="#ç¬¬ä¸€æ­¥ï¼šä¸‹è½½Nacos-Server" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä¸‹è½½Nacos Server"></a>ç¬¬ä¸€æ­¥ï¼šä¸‹è½½Nacos Server</h4><p>å®˜ç½‘ä¸‹è½½åœ°å€: ğŸ”— <a href="https://github.com/alibaba/nacos">https://github.com/alibaba/nacos</a><br>é€‰æ‹©æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼ˆæ³¨æ„jdkç‰ˆæœ¬é€‚é…ï¼‰ï¼Œä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å‹ç¼©åŒ…ï¼š</p><ul><li>Windowsï¼šnacos-server-x.x.x.zip</li><li>Linux&#x2F;macOSï¼šnacos-server-x.x.x.tar.gz</li></ul><h4 id="ç¬¬äºŒæ­¥-è§£å‹æ–‡ä»¶"><a href="#ç¬¬äºŒæ­¥-è§£å‹æ–‡ä»¶" class="headerlink" title="ç¬¬äºŒæ­¥: è§£å‹æ–‡ä»¶"></a>ç¬¬äºŒæ­¥: è§£å‹æ–‡ä»¶</h4><pre class="line-numbers language-none"><code class="language-none"># Linux&#x2F;macOStar -zxvf nacos-server-x.x.x.tar.gz# Windowsç›´æ¥å³é”®è§£å‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯åŠ¨-Nacos-Server"><a href="#å¯åŠ¨-Nacos-Server" class="headerlink" title="å¯åŠ¨ Nacos Server"></a>å¯åŠ¨ Nacos Server</h3><h5 id="1-å•æœºæ¨¡å¼å¯åŠ¨ï¼ˆå¼€å‘ç¯å¢ƒæ¨èï¼‰"><a href="#1-å•æœºæ¨¡å¼å¯åŠ¨ï¼ˆå¼€å‘ç¯å¢ƒæ¨èï¼‰" class="headerlink" title="1.å•æœºæ¨¡å¼å¯åŠ¨ï¼ˆå¼€å‘ç¯å¢ƒæ¨èï¼‰"></a>1.å•æœºæ¨¡å¼å¯åŠ¨ï¼ˆå¼€å‘ç¯å¢ƒæ¨èï¼‰</h5><p>Linux&#x2F;macOS</p><pre class="line-numbers language-none"><code class="language-none">cd nacos&#x2F;binsh startup.sh -m standalone  # æ·»åŠ  standalone å‚æ•°è¡¨ç¤ºå•æœºæ¨¡å¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>Windows</p><pre class="line-numbers language-none"><code class="language-none">cd nacos\bin.&#x2F;startup.cmd -m standalone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="2-é›†ç¾¤æ¨¡å¼å¯åŠ¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰"><a href="#2-é›†ç¾¤æ¨¡å¼å¯åŠ¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰" class="headerlink" title="2.é›†ç¾¤æ¨¡å¼å¯åŠ¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰"></a>2.é›†ç¾¤æ¨¡å¼å¯åŠ¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</h5><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ conf&#x2F;cluster.confï¼Œæ·»åŠ é›†ç¾¤èŠ‚ç‚¹IPï¼š</p><pre class="line-numbers language-none"><code class="language-none">192.168.1.101:8848192.168.1.102:8848192.168.1.103:8848<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨æ¯ä¸ªèŠ‚ç‚¹ï¼ˆæ— éœ€ standalone å‚æ•°ï¼‰</p><pre class="line-numbers language-none"><code class="language-none">sh startup.sh  # Linux&#x2F;macOSstartup.cmd    # Windows<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="éªŒè¯å¯åŠ¨"><a href="#éªŒè¯å¯åŠ¨" class="headerlink" title="éªŒè¯å¯åŠ¨"></a>éªŒè¯å¯åŠ¨</h3><p>è®¿é—®æ§åˆ¶å°<br>æµè§ˆå™¨æ‰“å¼€ï¼š<br>ğŸ”— <a href="http://localhost:8848/nacos">http://localhost:8848/nacos</a></p><ul><li>é»˜è®¤è´¦å·ï¼šnacos</li><li>é»˜è®¤å¯†ç ï¼šnacos</li></ul><p>æŸ¥çœ‹æ—¥å¿—</p><pre class="line-numbers language-none"><code class="language-none">tail -f nacos&#x2F;logs&#x2F;start.out  # Linux&#x2F;macOS# Windows ç›´æ¥æŸ¥çœ‹ nacos\logs\start.out æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="å¸¸è§é—®é¢˜è§£å†³"><a href="#å¸¸è§é—®é¢˜è§£å†³" class="headerlink" title="å¸¸è§é—®é¢˜è§£å†³"></a>å¸¸è§é—®é¢˜è§£å†³</h3><h4 id="1ï¼Œç«¯å£å†²çª"><a href="#1ï¼Œç«¯å£å†²çª" class="headerlink" title="1ï¼Œç«¯å£å†²çª"></a>1ï¼Œç«¯å£å†²çª</h4><p>ä¿®æ”¹ conf&#x2F;application.properties ä¸­çš„ç«¯å£ï¼š</p><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token key attr-name">server.port</span><span class="token punctuation">=</span><span class="token value attr-value">8848  # é»˜è®¤ç«¯å£ï¼Œå¯æ”¹ä¸ºå…¶ä»–</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="2-å¯åŠ¨å¤±è´¥ï¼ˆå†…å­˜ä¸è¶³ï¼‰"><a href="#2-å¯åŠ¨å¤±è´¥ï¼ˆå†…å­˜ä¸è¶³ï¼‰" class="headerlink" title="2.å¯åŠ¨å¤±è´¥ï¼ˆå†…å­˜ä¸è¶³ï¼‰"></a>2.å¯åŠ¨å¤±è´¥ï¼ˆå†…å­˜ä¸è¶³ï¼‰</h4><p>è°ƒæ•´ JVM å‚æ•°ï¼ˆç¼–è¾‘ bin&#x2F;startup.sh æˆ– startup.cmdï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">JAVA_OPT&#x3D;&quot;$&#123;JAVA_OPT&#125; -Xms512m -Xmx512m&quot;  # æ ¹æ®æœºå™¨é…ç½®è°ƒæ•´<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="3-å¤–ç½‘è®¿é—®é™åˆ¶"><a href="#3-å¤–ç½‘è®¿é—®é™åˆ¶" class="headerlink" title="3.å¤–ç½‘è®¿é—®é™åˆ¶"></a>3.å¤–ç½‘è®¿é—®é™åˆ¶</h4><p>ä¿®æ”¹ conf&#x2F;application.propertiesï¼š</p><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token key attr-name">nacos.core.auth.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">false  # å…³é—­é‰´æƒï¼ˆå¼€å‘ç¯å¢ƒï¼‰</span><span class="token key attr-name">nacos.inetutils.ip-address</span><span class="token punctuation">=</span><span class="token value attr-value">ä½ çš„æœåŠ¡å™¨IP  # ç»‘å®šå¤–ç½‘IP</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="çº¿ä¸Šç¯å¢ƒå»ºè®®"><a href="#çº¿ä¸Šç¯å¢ƒå»ºè®®" class="headerlink" title="çº¿ä¸Šç¯å¢ƒå»ºè®®"></a>çº¿ä¸Šç¯å¢ƒå»ºè®®</h3><p>æ•°æ®åº“æŒä¹…åŒ–ï¼ˆé»˜è®¤ä½¿ç”¨å†…åµŒ Derbyï¼Œç”Ÿäº§éœ€åˆ‡ MySQLï¼‰ </p><ul><li>ä¿®æ”¹ conf&#x2F;application.propertiesï¼š<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token key attr-name">spring.datasource.platform</span><span class="token punctuation">=</span><span class="token value attr-value">mysql</span><span class="token key attr-name">db.url.0</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://127.0.0.1:3306/nacos?useSSL=false</span><span class="token key attr-name">db.user</span><span class="token punctuation">=</span><span class="token value attr-value">root</span><span class="token key attr-name">db.password</span><span class="token punctuation">=</span><span class="token value attr-value">ä½ çš„å¯†ç </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="å…³é—­Nacos-Server"><a href="#å…³é—­Nacos-Server" class="headerlink" title="å…³é—­Nacos Server"></a>å…³é—­Nacos Server</h3><pre class="line-numbers language-none"><code class="language-none">sh shutdown.sh  # Linux&#x2F;macOSshutdown.cmd    # Windows<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Nacos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowä¸‹å®‰è£…RabbitMQ</title>
      <link href="/2025/12/25/rabbitmq/"/>
      <url>/2025/12/25/rabbitmq/</url>
      
        <content type="html"><![CDATA[<h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><h4 id="ç¬¬ä¸€æ­¥ï¼šä¸‹è½½rabbitmq"><a href="#ç¬¬ä¸€æ­¥ï¼šä¸‹è½½rabbitmq" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä¸‹è½½rabbitmq"></a>ç¬¬ä¸€æ­¥ï¼šä¸‹è½½rabbitmq</h4><p>å®˜ç½‘ä¸‹è½½åœ°å€: <a href="https://www.rabbitmq.com/docs/install-windows">https://www.rabbitmq.com/docs/install-windows</a><br><img src="/medias/images/rabbitmq1.png" alt="å®˜ç½‘åœ°å€"></p><h4 id="ç¬¬äºŒæ­¥-ä¸‹è½½Erlang"><a href="#ç¬¬äºŒæ­¥-ä¸‹è½½Erlang" class="headerlink" title="ç¬¬äºŒæ­¥: ä¸‹è½½Erlang"></a>ç¬¬äºŒæ­¥: ä¸‹è½½Erlang</h4><p>RabbitMQéœ€è¦å®‰è£…64ä½å—æ”¯æŒçš„Erlangç‰ˆæœ¬ æ‰èƒ½åœ¨Windowsä¸Šè¿è¡Œã€‚<br><img src="/medias/images/rabbitmq2.png" alt="ä¸‹è½½é¡µé¢"></p><h4 id="ç¬¬ä¸‰æ­¥ï¼šç‚¹å‡»å®‰è£…"><a href="#ç¬¬ä¸‰æ­¥ï¼šç‚¹å‡»å®‰è£…" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šç‚¹å‡»å®‰è£…"></a>ç¬¬ä¸‰æ­¥ï¼šç‚¹å‡»å®‰è£…</h4><h5 id="1-å…ˆå®‰è£…Erlang"><a href="#1-å…ˆå®‰è£…Erlang" class="headerlink" title="1.å…ˆå®‰è£…Erlang"></a>1.å…ˆå®‰è£…Erlang</h5><ul><li>è¿è¡Œç¨‹åºå®‰è£…</li><li>é…ç½®ç¯å¢ƒå˜é‡</li></ul><p>é…ç½®ERLANG_HOMEç¯å¢ƒå˜é‡ï¼Œå…¶å€¼æŒ‡å‘erlangçš„å®‰è£…ç›®å½•ï¼ˆå®‰è£…æ—¶å¯é€‰æ‹©ï¼‰<br><br>%ERLANG_HOME%\bin åŠ å…¥åˆ°Pathä¸­</p><p>éªŒè¯å®‰è£… cmdçª—å£ è¾“å…¥ </p><pre class="line-numbers language-none"><code class="language-none">erl -version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="2-å®‰è£…rabbitmq-server"><a href="#2-å®‰è£…rabbitmq-server" class="headerlink" title="2.å®‰è£…rabbitmq-server"></a>2.å®‰è£…rabbitmq-server</h5><p>æ³¨æ„ï¼Œå®‰è£…çš„è·¯å¾„éƒ½ä¸è¦åŒ…å«ä¸­æ–‡<br></p><ul><li>é…ç½®ç¯å¢ƒå˜é‡</li></ul><p>æ–°å»ºRABBITMQ_SERVER,æŒ‡å‘å®‰è£…è·¯å¾„ï¼Œå¢åŠ rabbitmqå˜é‡è‡³pathï¼Œ%RABBITMQ_SERVER%\sbin</p><p>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ è¿è¡Œä»¥ä¸‹å‘½ä»¤ </p><pre class="line-numbers language-none"><code class="language-none">rabbitmqctl status<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="3-æŠ¥é”™è§£å†³"><a href="#3-æŠ¥é”™è§£å†³" class="headerlink" title="3.æŠ¥é”™è§£å†³"></a>3.æŠ¥é”™è§£å†³</h5><p>Error: unable to perform an operation on node â€˜rabbit@DESKTOP-63FTMEFâ€™. Please see diagnostics information and suggestions below.</p><ul><li>æ‰¾åˆ°ï¼šC:\Windows\System32\config\systemprofile .erlang.cookie è¿™ä¸ªæ–‡ä»¶å’Œ C:\Users{ç”¨æˆ·å} .erlang.cookie ä¸¤ä¸ªçš„å€¼ä¸ä¸€æ · è®¾ç½®ä¸€æ ·å³å¯</li><li>é‡å¯ RabbitMQ æœåŠ¡ï¼ˆWindows + R -&gt; services.msc -&gt; æ‰¾åˆ° RabbitMQ -&gt; å³å‡»é‡å¯ï¼‰</li></ul><h5 id="4-æ‰©å±•"><a href="#4-æ‰©å±•" class="headerlink" title="4.æ‰©å±•"></a>4.æ‰©å±•</h5><p>åˆ‡æ¢åˆ°å®‰è£…ç›®å½•ï¼Œå®‰è£…å¯è§†åŒ–æ’ä»¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">rabbitmq-plugins.bat enable rabbitmq_management<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æµè§ˆå™¨ä¸­ <a href="http://localhost:15672/">http://localhost:15672</a></p><ul><li>ç”¨æˆ·å’Œå¯†ç è¾“å…¥ï¼šguest,guest è¿›å…¥rabbitMQç®¡ç†æ§åˆ¶å°</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> RabbitMQ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>0-1æ­å»ºSpringCloudæœåŠ¡</title>
      <link href="/2025/12/22/sc-demo/"/>
      <url>/2025/12/22/sc-demo/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸€ã€å¼€å‘ç¯å¢ƒä¸å·¥å…·"><a href="#ä¸€ã€å¼€å‘ç¯å¢ƒä¸å·¥å…·" class="headerlink" title="ä¸€ã€å¼€å‘ç¯å¢ƒä¸å·¥å…·"></a>ä¸€ã€å¼€å‘ç¯å¢ƒä¸å·¥å…·</h4><ul><li>jdk8</li><li>maven</li><li>Intellij IDEA</li></ul><h4 id="äºŒã€å·¥ç¨‹æ„å»º"><a href="#äºŒã€å·¥ç¨‹æ„å»º" class="headerlink" title="äºŒã€å·¥ç¨‹æ„å»º"></a>äºŒã€å·¥ç¨‹æ„å»º</h4><h5 id="2-1-æ„å»ºçˆ¶å­å·¥ç¨‹"><a href="#2-1-æ„å»ºçˆ¶å­å·¥ç¨‹" class="headerlink" title="2.1 æ„å»ºçˆ¶å­å·¥ç¨‹"></a>2.1 æ„å»ºçˆ¶å­å·¥ç¨‹</h5><h6 id="2-1-1-åˆ›å»ºçˆ¶å·¥ç¨‹"><a href="#2-1-1-åˆ›å»ºçˆ¶å·¥ç¨‹" class="headerlink" title="2.1.1 åˆ›å»ºçˆ¶å·¥ç¨‹"></a>2.1.1 åˆ›å»ºçˆ¶å·¥ç¨‹</h6><p>1.åˆ›å»ºä¸€ä¸ªspring booté¡¹ç›®æˆ–è€…ç©ºé¡¹ç›®ï¼Œå»æ‰srcç›®å½•ï¼Œåªä¿ç•™pom.xml<br>ç›®å½•ç»“æ„å¦‚å›¾<br>   <img src="/medias/images/sc1.png" alt="å›¾ç‰‡"><br>   <img src="/medias/images/sc2.png" alt="å›¾ç‰‡"><br>2.å®Œå–„çˆ¶å·¥ç¨‹pomæ–‡ä»¶</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.wwx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>spring-cloud-demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>service-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>service-provider<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>service-consumer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>api-gateway<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>config-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>   <span class="token comment">&lt;!-- ç»§æ‰¿ Spring Boot çš„çˆ¶ POM --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.7.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- lookup parent from repository --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-cloud.version</span><span class="token punctuation">></span></span>2021.0.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-cloud.version</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!-- å…¼å®¹Spring Boot 2.7.x --></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-cloud-alibaba.version</span><span class="token punctuation">></span></span>2021.0.5.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-cloud-alibaba.version</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>         <span class="token comment">&lt;!-- Spring Cloud Alibaba ä¾èµ–ç‰ˆæœ¬ --></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-alibaba-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;spring-cloud-alibaba.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;spring-cloud.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token comment">&lt;!-- Nacos ä¾èµ–ç‰ˆæœ¬--></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;spring-cloud-alibaba.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;spring-cloud-alibaba.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- ç¼–è¯‘æ’ä»¶ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.10.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">></span></span>$&#123;maven.compiler.source&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">></span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">></span></span>$&#123;maven.compiler.target&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- Spring Boot Maven æ’ä»¶ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çˆ¶POMä½¿ç”¨dependencyManagementç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬<br><br>å­æ¨¡å—åœ¨dependenciesä¸­å£°æ˜å®é™…éœ€è¦çš„ä¾èµ–ï¼Œå¯ä»¥çœç•¥ç‰ˆæœ¬å·<br><br>å•æ¨¡å—é¡¹ç›®å¯ä»¥ä¸ç”¨dependencyManagementï¼Œç›´æ¥åœ¨dependenciesä¸­å£°æ˜</p><h6 id="2-1-2-åˆ›å»ºå­é¡¹ç›®é€šç”¨model"><a href="#2-1-2-åˆ›å»ºå­é¡¹ç›®é€šç”¨model" class="headerlink" title="2.1.2 åˆ›å»ºå­é¡¹ç›®é€šç”¨model"></a>2.1.2 åˆ›å»ºå­é¡¹ç›®é€šç”¨model</h6><p><img src="/medias/images/sc3.png" alt="å›¾ç‰‡"><br>å…¶ä»–æ¨¡å—åˆ›å»ºæ–¹å¼ç±»ä¼¼ï¼Œmodelä¹Ÿå¯ä»¥é€‰æ‹©åˆ›å»ºspringbooté¡¹ç›®å†ç¼–è¾‘pomæ–‡ä»¶å³å¯</p><h5 id="2-2-Eureka-Server"><a href="#2-2-Eureka-Server" class="headerlink" title="2.2 Eureka Server"></a>2.2 Eureka Server</h5><p>Eureka Serveræ¨¡å—ä¿®æ”¹pomæ·»åŠ ä¾èµ–</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-security<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºå¯åŠ¨ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>eureka<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span><span class="token class-name">EnableEurekaServer</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaServer</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaServerApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaServerApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@EnableEurekaServerä½œç”¨:</p><ul><li>å¯ç”¨ Eureka Server åŠŸèƒ½ï¼šå°†åº”ç”¨è½¬å˜ä¸ºå¾®æœåŠ¡æ¶æ„ä¸­çš„æ³¨å†Œä¸­å¿ƒ</li><li>æä¾›æœåŠ¡æ³¨å†Œè¡¨ï¼šç®¡ç†æ‰€æœ‰å¾®æœåŠ¡çš„æ³¨å†Œä¿¡æ¯ï¼ˆIPã€ç«¯å£ã€å¥åº·çŠ¶æ€ç­‰ï¼‰</li><li>æ”¯æŒæœåŠ¡å‘ç°ï¼šå…è®¸å…¶ä»–æœåŠ¡é€šè¿‡ Eureka Client æŸ¥è¯¢å¯ç”¨æœåŠ¡å®ä¾‹</li></ul><p>é…ç½®application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8761</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>server  <span class="token key atrule">security</span><span class="token punctuation">:</span>    <span class="token key atrule">user</span><span class="token punctuation">:</span>      <span class="token key atrule">name</span><span class="token punctuation">:</span> admin      <span class="token key atrule">password</span><span class="token punctuation">:</span> admin123<span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># ä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±</span>    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>        <span class="token comment"># ä¸ä»æ³¨å†Œä¸­å¿ƒè·å–æ³¨å†Œä¿¡æ¯</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">&#123;</span>spring.security.user.name<span class="token punctuation">&#125;</span><span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>spring.security.user.password<span class="token punctuation">&#125;</span>@$<span class="token punctuation">&#123;</span>eureka.instance.hostname<span class="token punctuation">&#125;</span><span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>server.port<span class="token punctuation">&#125;</span>/eureka/  <span class="token key atrule">server</span><span class="token punctuation">:</span>    <span class="token key atrule">enable-self-preservation</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>  <span class="token comment"># å…³é—­è‡ªæˆ‘ä¿æŠ¤æ¨¡å¼(å¼€å‘ç¯å¢ƒ)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é…ç½®å®‰å…¨è®¤è¯</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">HttpSecurity</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">EnableWebSecurity</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">WebSecurityConfigurerAdapter</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@EnableWebSecurity</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        http<span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">httpBasic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-3-server-provider"><a href="#2-3-server-provider" class="headerlink" title="2.3 server-provider"></a>2.3 server-provider</h5><p>æ­å»ºæœåŠ¡æä¾›è€…æ¨¡å—<br>ä¿®æ”¹pomæ–‡ä»¶</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ·»åŠ å¯åŠ¨ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">EnableDiscoveryClient</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServiceProviderApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ServiceProviderApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@EnableDiscoveryClient æ³¨è§£</p><ul><li>æœåŠ¡æ³¨å†Œï¼šå°†å½“å‰åº”ç”¨æ³¨å†Œåˆ°æœåŠ¡å‘ç°æœåŠ¡å™¨ï¼ˆå¦‚ Eureka Serverï¼‰</li><li>æœåŠ¡å‘ç°ï¼šé€šè¿‡æ³¨å†Œä¸­å¿ƒæŸ¥æ‰¾å…¶ä»–æœåŠ¡çš„å®ä¾‹ä¿¡æ¯</li><li>è´Ÿè½½å‡è¡¡ï¼šä¸ @LoadBalanced ç»“åˆå®ç°å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼ˆå¦‚ Ribbonï¼‰</li></ul><p>é…ç½®application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> service<span class="token punctuation">-</span>provider<span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//admin<span class="token punctuation">:</span>admin123@localhost<span class="token punctuation">:</span>8761/eureka/  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>spring.application.name<span class="token punctuation">&#125;</span><span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>spring.application.instance_id<span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>random.value<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">10</span>    <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token key atrule">management</span><span class="token punctuation">:</span>  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>    <span class="token key atrule">web</span><span class="token punctuation">:</span>      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">"*"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-4-server-consumer"><a href="#2-4-server-consumer" class="headerlink" title="2.4 server-consumer"></a>2.4 server-consumer</h5><p>æœåŠ¡æ¶ˆè´¹æ¨¡å—æœåŠ¡è°ƒç”¨ä½¿ç”¨Feignæ–¹å¼ ä¿®æ”¹pom</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ·»åŠ å¯åŠ¨ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">EnableDiscoveryClient</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">EnableFeignClients</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token annotation punctuation">@EnableFeignClients</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServiceConsumerApplication</span> <span class="token punctuation">&#123;</span>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ServiceConsumerApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@EnableFeignClients æ³¨è§£</p><ul><li>å£°æ˜å¼æœåŠ¡è°ƒç”¨ï¼šé€šè¿‡æ¥å£+æ³¨è§£çš„æ–¹å¼å®šä¹‰ HTTP API å®¢æˆ·ç«¯</li><li>é›†æˆè´Ÿè½½å‡è¡¡ï¼šè‡ªåŠ¨ä¸ Ribbon æˆ– Spring Cloud LoadBalancer é›†æˆ</li><li>æœåŠ¡å‘ç°é›†æˆï¼šé…åˆ @EnableDiscoveryClient å®ç°åŸºäºæœåŠ¡åçš„è°ƒç”¨</li><li>ç®€åŒ– HTTP é€šä¿¡ï¼šå°è£…äº† HTTP è¯·æ±‚ç»†èŠ‚ï¼Œå¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡æ¥å£</li></ul><p>é…ç½®application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8082</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> service<span class="token punctuation">-</span>consumer<span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//admin<span class="token punctuation">:</span>admin123@localhost<span class="token punctuation">:</span>8761/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-5-api-gateway"><a href="#2-5-api-gateway" class="headerlink" title="2.5 api-gateway"></a>2.5 api-gateway</h5><p>APIç½‘å…³æ¨¡å—ä¿®æ”¹pom</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-gateway<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºå¯åŠ¨ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">EnableDiscoveryClient</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApiGatewayApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ApiGatewayApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é…ç½®application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8083</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>gateway  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>        <span class="token key atrule">locator</span><span class="token punctuation">:</span>          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># å¼€å¯ä»æ³¨å†Œä¸­å¿ƒåŠ¨æ€åˆ›å»ºè·¯ç”±åŠŸèƒ½</span>          <span class="token key atrule">lower-case-service-id</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># æœåŠ¡åå°å†™</span>      <span class="token key atrule">routes</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> service<span class="token punctuation">-</span>consumer          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//service<span class="token punctuation">-</span>consumer          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>            <span class="token punctuation">-</span> Path=/consumer/<span class="token important">**</span>          <span class="token key atrule">filters</span><span class="token punctuation">:</span>            <span class="token punctuation">-</span> StripPrefix=0 <span class="token comment"># ä¸ç§»é™¤å‰ç¼€/consumer</span>                    <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> service<span class="token punctuation">-</span>provider          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//service<span class="token punctuation">-</span>provider          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>            <span class="token punctuation">-</span> Path=/provider/<span class="token important">**</span>          <span class="token key atrule">filters</span><span class="token punctuation">:</span>            <span class="token punctuation">-</span> StripPrefix=1<span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//admin<span class="token punctuation">:</span>admin123@localhost<span class="token punctuation">:</span>8761/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-6-config-server"><a href="#2-6-config-server" class="headerlink" title="2.6 config-server"></a>2.6 config-server</h5><p>é…ç½®ä¸­å¿ƒæ¨¡å— ä¿®æ”¹pom</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-config-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºå¯åŠ¨ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">EnableDiscoveryClient</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>config<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span><span class="token class-name">EnableConfigServer</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableConfigServer</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigServerApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigServerApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@EnableConfigServer æ³¨è§£</p><ul><li>é›†ä¸­åŒ–ç®¡ç†é…ç½®ï¼šå°†åˆ†æ•£åœ¨å„ä¸ªå¾®æœåŠ¡çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚ application.ymlï¼‰é›†ä¸­å­˜å‚¨åˆ°ç»Ÿä¸€çš„ä»“åº“ï¼ˆå¦‚ Gitã€SVNã€æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿç­‰ï¼‰</li><li>æä¾›é…ç½®çš„è¿œç¨‹è®¿é—®æ¥å£ï¼šæš´éœ² RESTful APIï¼ˆå¦‚ &#x2F;{application}&#x2F;{profile}&#x2F;{label}ï¼‰ï¼Œä¾›å…¶ä»–å¾®æœåŠ¡åŠ¨æ€è·å–é…ç½®</li><li>ç¯å¢ƒéš”ç¦»ä¸ç‰ˆæœ¬æ§åˆ¶ï¼šé€šè¿‡ profileï¼ˆå¦‚ dev&#x2F;prodï¼‰å’Œ labelï¼ˆå¦‚ Git åˆ†æ”¯ï¼‰æ”¯æŒå¤šç¯å¢ƒé…ç½®éš”ç¦»</li><li>é…ç½®åŠ¨æ€åˆ·æ–°ï¼šé…åˆ @RefreshScope æ³¨è§£ï¼Œæ”¯æŒå®¢æˆ·ç«¯åœ¨ä¸é‡å¯æœåŠ¡çš„æƒ…å†µä¸‹åŠ¨æ€æ›´æ–°é…ç½®ï¼ˆéœ€æ‰‹åŠ¨è§¦å‘ &#x2F;actuator&#x2F;refreshï¼‰</li></ul><p>é…ç½®application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8888</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>server  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>    <span class="token key atrule">active</span><span class="token punctuation">:</span> native  <span class="token comment"># å…³é”®ï¼å¿…é¡»æ˜¾å¼æ¿€æ´»native profile  </span>  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">config</span><span class="token punctuation">:</span>      <span class="token key atrule">server</span><span class="token punctuation">:</span>         <span class="token key atrule">native</span><span class="token punctuation">:</span>         <span class="token key atrule">search-locations</span><span class="token punctuation">:</span>            <span class="token punctuation">-</span> file<span class="token punctuation">:</span>/config<span class="token punctuation">-</span>files/            <span class="token punctuation">-</span> classpath<span class="token punctuation">:</span>/config<span class="token punctuation">-</span>files/  <span class="token comment"># ä¹Ÿå¯ä»¥æ”¾åœ¨classpathä¸‹</span>          <span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//admin<span class="token punctuation">:</span>admin123@localhost<span class="token punctuation">:</span>8761/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-7-å®¢æˆ·ç«¯ä½¿ç”¨é…ç½®ä¸­å¿ƒ"><a href="#2-7-å®¢æˆ·ç«¯ä½¿ç”¨é…ç½®ä¸­å¿ƒ" class="headerlink" title="2.7 å®¢æˆ·ç«¯ä½¿ç”¨é…ç½®ä¸­å¿ƒ"></a>2.7 å®¢æˆ·ç«¯ä½¿ç”¨é…ç½®ä¸­å¿ƒ</h5><p>service-provideræ¨¡å—ä¸­æ·»åŠ ä¾èµ–</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºbootstrap.ymlæ–‡ä»¶(ä¼˜å…ˆçº§é«˜äºapplication.yml)</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">config</span><span class="token punctuation">:</span>      <span class="token key atrule">name</span><span class="token punctuation">:</span> service<span class="token punctuation">-</span>provider  <span class="token comment"># å¯¹åº”é…ç½®æ–‡ä»¶å‰ç¼€</span>      <span class="token key atrule">profile</span><span class="token punctuation">:</span> dev           <span class="token comment"># ç¯å¢ƒ</span>      <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8888</span>  <span class="token comment"># é…ç½®ä¸­å¿ƒåœ°å€</span>      <span class="token key atrule">fail-fast</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>        <span class="token comment"># å¯åŠ¨æ—¶å¦‚æ— æ³•è¿æ¥é…ç½®ä¸­å¿ƒåˆ™å¿«é€Ÿå¤±è´¥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨&#x2F;config-files&#x2F;ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶service-provider-dev.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">custom</span><span class="token punctuation">:</span>  <span class="token key atrule">message</span><span class="token punctuation">:</span> This is a message from config server<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åœ¨Controllerä¸­æµ‹è¯•è¯»å–é…ç½®</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;custom.message&#125;"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">String</span> customMessage<span class="token punctuation">;</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/config"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> customMessage<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="2-8-æœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨æœåŠ¡æä¾›è€…"><a href="#2-8-æœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨æœåŠ¡æä¾›è€…" class="headerlink" title="2.8 æœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨æœåŠ¡æä¾›è€…"></a>2.8 æœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨æœåŠ¡æä¾›è€…</h5><p>åœ¨service-consumeræ¨¡å—ä¸­æ·»åŠ Feignä¾èµ–</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºFeignå®¢æˆ·ç«¯æ¥å£</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">FeignClient</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"service-provider"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProviderFeignClient</span> <span class="token punctuation">&#123;</span>        <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/provider/hello/&#123;name&#125;"</span><span class="token punctuation">)</span>    <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹Controllerä½¿ç”¨Feignå®¢æˆ·ç«¯</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>serviceconsumer<span class="token punctuation">.</span>feign<span class="token punctuation">.</span></span><span class="token class-name">ProviderFeignClient</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConsumerController</span> <span class="token punctuation">&#123;</span>        <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">ProviderFeignClient</span> providerFeignClient<span class="token punctuation">;</span>        <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/feign/hello/&#123;name&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">helloFeign</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> providerFeignClient<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¸‰ã€æµ‹è¯•ä¸å¯åŠ¨"><a href="#ä¸‰ã€æµ‹è¯•ä¸å¯åŠ¨" class="headerlink" title="ä¸‰ã€æµ‹è¯•ä¸å¯åŠ¨"></a>ä¸‰ã€æµ‹è¯•ä¸å¯åŠ¨</h4><h5 id="3-1-å¯åŠ¨é¡ºåº"><a href="#3-1-å¯åŠ¨é¡ºåº" class="headerlink" title="3.1 å¯åŠ¨é¡ºåº"></a>3.1 å¯åŠ¨é¡ºåº</h5><ul><li>eureka-server</li><li>config-server</li><li>service-provider</li><li>service-consumer</li><li>api-gateway</li></ul><h5 id="3-2-éªŒè¯Eurekaæ³¨å†Œä¸­å¿ƒ"><a href="#3-2-éªŒè¯Eurekaæ³¨å†Œä¸­å¿ƒ" class="headerlink" title="3.2 éªŒè¯Eurekaæ³¨å†Œä¸­å¿ƒ"></a>3.2 éªŒè¯Eurekaæ³¨å†Œä¸­å¿ƒ</h5><ul><li>è®¿é—® <a href="http://localhost:8761/">http://localhost:8761</a></li><li>è¾“å…¥ç”¨æˆ·åadminï¼Œå¯†ç admin123</li><li>æŸ¥çœ‹æœåŠ¡æ˜¯å¦æ³¨å†ŒæˆåŠŸ</li></ul><h5 id="3-3-æµ‹è¯•æœåŠ¡è°ƒç”¨"><a href="#3-3-æµ‹è¯•æœåŠ¡è°ƒç”¨" class="headerlink" title="3.3 æµ‹è¯•æœåŠ¡è°ƒç”¨"></a>3.3 æµ‹è¯•æœåŠ¡è°ƒç”¨</h5><ul><li>é€šè¿‡ç½‘å…³è®¿é—®æœåŠ¡: <a href="http://localhost:8083/consumer/feign/hello/John">http://localhost:8083/consumer/feign/hello/John</a></li><li>ç›´æ¥è®¿é—®æœåŠ¡æä¾›è€…: <a href="http://localhost:8081/provider/hello/John">http://localhost:8081/provider/hello/John</a></li><li>ç›´æ¥è®¿é—®æœåŠ¡æ¶ˆè´¹è€…: <a href="http://localhost:8082/consumer/ping">http://localhost:8082/consumer/ping</a></li></ul><h5 id="3-4-æµ‹è¯•é…ç½®ä¸­å¿ƒ"><a href="#3-4-æµ‹è¯•é…ç½®ä¸­å¿ƒ" class="headerlink" title="3.4 æµ‹è¯•é…ç½®ä¸­å¿ƒ"></a>3.4 æµ‹è¯•é…ç½®ä¸­å¿ƒ</h5><ul><li>è®¿é—® <a href="http://localhost:8081/provider/config">http://localhost:8081/provider/config</a></li><li>åº”è¿”å›æ–‡ä»¶ç›®å½•ä¸‹æ–‡ä»¶ä¸­é…ç½®çš„æ¶ˆæ¯</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> å¾®æœåŠ¡ </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wemsg</title>
      <link href="/2024/10/19/wemsg/"/>
      <url>/2024/10/19/wemsg/</url>
      
        <content type="html"><![CDATA[<h4 id="1-ç™»å½•å¾®ä¿¡"><a href="#1-ç™»å½•å¾®ä¿¡" class="headerlink" title="1. ç™»å½•å¾®ä¿¡"></a>1. ç™»å½•å¾®ä¿¡</h4><p>ç™»å½•è¦å¯¼å‡ºæ•°æ®çš„å¾®ä¿¡ï¼ˆä¸æ”¯æŒå¾®ä¿¡å¤šå¼€ï¼Œä¸æ”¯æŒéƒ¨åˆ†è€ç‰ˆæœ¬å¾®ä¿¡ï¼‰<br>ç›¸å…³ä¿¡æ¯<br>æƒ³æŠŠæ‰‹æœºç«¯çš„å¾®ä¿¡èŠå¤©è®°å½•è½¬ç§»åˆ°ç”µè„‘ä¸Šå¯ä»¥ä½¿ç”¨å¾®ä¿¡è‡ªå¸¦çš„èŠå¤©è®°å½•è¿ç§»åŠŸèƒ½<br>æ“ä½œæ­¥éª¤ï¼š<br>â€¢å®‰å“ï¼š æ‰‹æœºå¾®ä¿¡-&gt;æˆ‘-&gt;è®¾ç½®-&gt;èŠå¤©-&gt;èŠå¤©è®°å½•è¿ç§»ä¸å¤‡ä»½-&gt;è¿ç§»-&gt; è¿ç§»åˆ°ç”µè„‘å¾®ä¿¡ï¼ˆè¿ç§»å®Œæˆåé‡å¯å¾®ä¿¡ï¼‰å¦åˆ™<br>â€¢iOSï¼š æ‰‹æœºå¾®ä¿¡-&gt;æˆ‘-&gt;è®¾ç½®-&gt;é€šç”¨-&gt;èŠå¤©è®°å½•è¿ç§»ä¸å¤‡ä»½-&gt;è¿ç§»-&gt; è¿ç§»åˆ°ç”µè„‘å¾®ä¿¡ï¼ˆè¿ç§»å®Œæˆåé‡å¯å¾®ä¿¡ï¼‰å¦åˆ™<br>â€¢è®°å¾—é‡å¯å¾®ä¿¡ï¼Œå› ä¸ºå¾®ä¿¡å…³é—­åæ‰ä¼šå°†æœ€æ–°æ•°æ®å†™å…¥æ•°æ®åº“ï¼Œæ‰€ä»¥æƒ³è·å–æœ€æ–°æ•°æ®è¯·é‡å¯å¾®ä¿¡å†å¯åŠ¨<br>â€¢<font color='red'>è¿ç§»è€Œä¸æ˜¯å¤‡ä»½ã€è¿ç§»è€Œä¸æ˜¯å¤‡ä»½ã€è¿ç§»è€Œä¸æ˜¯å¤‡ä»½ï¼›<br>æ‰‹æœºå¾®ä¿¡å‘èµ·è¿ç§»åŠŸèƒ½ã€æ‰‹æœºå¾®ä¿¡å‘èµ·è¿ç§»åŠŸèƒ½ã€æ‰‹æœºå¾®ä¿¡å‘èµ·è¿ç§»åŠŸèƒ½ï¼›<br>è¿ç§»å®Œæˆåé‡æ–°ç™»å½•å¾®ä¿¡ã€è¿ç§»å®Œæˆåé‡æ–°ç™»å½•å¾®ä¿¡ã€è¿ç§»å®Œæˆåé‡æ–°ç™»å½•å¾®ä¿¡</font><br>é‡è¦çš„äº‹æƒ…è¯´ä¸‰é</p><h4 id="2-ç‚¹å‡»è·å–ä¿¡æ¯"><a href="#2-ç‚¹å‡»è·å–ä¿¡æ¯" class="headerlink" title="2. ç‚¹å‡»è·å–ä¿¡æ¯"></a>2. ç‚¹å‡»è·å–ä¿¡æ¯</h4><p>è¿›å…¥å·¥å…·é¡µåç‚¹å‡»è·å–ä¿¡æ¯ä¹‹åï¼Œæ­£å¸¸æƒ…å†µä¸‹æ‰€æœ‰ä¿¡æ¯å‡ä¼šè‡ªåŠ¨å¡«å……ï¼Œè¿™æ—¶å€™å°±ç›´æ¥ç‚¹å‡»å¼€å§‹å¯åŠ¨å°±è¡Œäº†</p><p>â€¢å¦‚æœå¾®ä¿¡è·¯å¾„è·å–å¤±è´¥å°±è½¬åˆ°è§£å¯†é¡µæ‰‹åŠ¨è·å–<br>â€¢å¦‚æœwxidæˆ–keyä¸ºnoneï¼Œå¤šè¯•å‡ æ¬¡ï¼Œä¸è¡Œçš„è¯å…ˆé‡å¯ç”µè„‘å†è¯•è¯•ï¼Œ90%éƒ½èƒ½è§£å†³<br>â€¢å¦‚æœæ˜¾ç¤ºkey errorï¼Œæœ‰ä¸€ä½å¤§å“¥å°†å¾®ä¿¡æ–‡ä»¶ä¿å­˜è·¯å¾„ä¿®æ”¹åˆ°å…¶ä»–ä½ç½®åæˆåŠŸäº†ï¼Œæ³¨æ„è¯¥è·¯å¾„æœ€å¥½ä¸è¦åŒ…å«ä¸­æ–‡ï¼Œä¿®æ”¹è·¯å¾„ä¹‹åä¹Ÿè®°å¾—è¦é‡å¯å¾®ä¿¡æˆ–è€…é‡å¯ç”µè„‘ï¼Œå®åœ¨ä¸è¡Œçš„è¯å¯ä»¥è¿›ç¾¤åé¦ˆ<br>â€¢è§£æå‡ºç°é—®é¢˜çš„å¯ä»¥åœ¨è·å–ä¿¡æ¯ä¹‹åå…³é—­å¾®ä¿¡ï¼Œç„¶åå†ç‚¹å‡»å¼€å§‹å¯åŠ¨</p><h4 id="3-è®¾ç½®å¾®ä¿¡è·¯å¾„-å¦‚æœå·²ç»è‡ªåŠ¨è®¾ç½®å¥½å°±è·³è¿‡è¯¥æ­¥éª¤"><a href="#3-è®¾ç½®å¾®ä¿¡è·¯å¾„-å¦‚æœå·²ç»è‡ªåŠ¨è®¾ç½®å¥½å°±è·³è¿‡è¯¥æ­¥éª¤" class="headerlink" title="3. è®¾ç½®å¾®ä¿¡è·¯å¾„(å¦‚æœå·²ç»è‡ªåŠ¨è®¾ç½®å¥½å°±è·³è¿‡è¯¥æ­¥éª¤)"></a>3. è®¾ç½®å¾®ä¿¡è·¯å¾„(å¦‚æœå·²ç»è‡ªåŠ¨è®¾ç½®å¥½å°±è·³è¿‡è¯¥æ­¥éª¤)</h4><p>ä¸€èˆ¬ä¸Šä¸€æ­¥ç‚¹äº†è·å–ä¿¡æ¯åä¼šè‡ªåŠ¨è·å–å¾®ä¿¡è·¯å¾„çš„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†æ‰‹åŠ¨ç‚¹è·å–<br>é€‰æ‹©å¾®ä¿¡-&gt;è®¾ç½®-&gt;æ–‡ä»¶ç®¡ç†çš„å¾®ä¿¡æ–‡ä»¶é»˜è®¤è·¯å¾„ä¸‹çš„wxid_xxxæ–‡ä»¶å¤¹ï¼ˆä¸€èˆ¬ä»¥wxid_xxxå¼€å¤´ï¼Œéƒ¨åˆ†å¾®ä¿¡ä¸ºè‡ªå®šä¹‰å­—ç¬¦ä¸²ï¼Œè·ŸMemoTraceé‡Œæ˜¾ç¤ºçš„wxidä¿æŒä¸€è‡´å³å¯ï¼‰</p><p>é€‰æ‹©åº•ä¸‹è¿™ä¸ªå¸¦æœ‰wxidçš„æ–‡ä»¶å¤¹ï¼Œè¯¥wxidå¿…é¡»å’Œå‰é¢è·å–çš„wxidä¸€è‡´ï¼Œå¦åˆ™çš„è¯ä¼šæ˜¾ç¤ºå¯†é’¥é”™è¯¯</p><h4 id="4-å¼€å§‹è¿è¡Œ"><a href="#4-å¼€å§‹è¿è¡Œ" class="headerlink" title="4. å¼€å§‹è¿è¡Œ"></a>4. å¼€å§‹è¿è¡Œ</h4><p>â€¢ç‚¹å‡»â€œå¼€å§‹è¿è¡Œâ€æŒ‰é’®ï¼Œç¨ç­‰ä¸€ä¼šï¼ŒæˆåŠŸåå¼¹å‡ºå¼¹çª—ï¼Œç‚¹ç¡®å®šåè‡ªåŠ¨å…³é—­åº”ç”¨ï¼Œé‡æ–°æ‰“å¼€åº”ç”¨</p><h4 id="5-é‡æ–°æ‰“å¼€åº”ç”¨"><a href="#5-é‡æ–°æ‰“å¼€åº”ç”¨" class="headerlink" title="5. é‡æ–°æ‰“å¼€åº”ç”¨"></a>5. é‡æ–°æ‰“å¼€åº”ç”¨</h4><p>é€‰æ‹©å¥½å‹é¡µï¼Œç‚¹å‡»æƒ³è¦å¯¼å‡ºçš„æŠ¥è¡¨å³å¯</p><h4 id="6-è¿™äº›æ•°æ®åº“å¯ç”¨æ™®é€šçš„SQLiteæŸ¥çœ‹å™¨æŸ¥çœ‹"><a href="#6-è¿™äº›æ•°æ®åº“å¯ç”¨æ™®é€šçš„SQLiteæŸ¥çœ‹å™¨æŸ¥çœ‹" class="headerlink" title="6.è¿™äº›æ•°æ®åº“å¯ç”¨æ™®é€šçš„SQLiteæŸ¥çœ‹å™¨æŸ¥çœ‹"></a>6.è¿™äº›æ•°æ®åº“å¯ç”¨æ™®é€šçš„SQLiteæŸ¥çœ‹å™¨æŸ¥çœ‹</h4><p>å¦‚ã€DB Browser for SQLiteã€‘å»ºè®®ä¸æ‡‚SQLçš„å°±ä¸è¦çœ‹äº†ï¼Œåº”è¯¥æ˜¯çœ‹ä¸æ‡‚çš„ï¼Œé‡å¯è¯¥è½¯ä»¶å¯ç›´æ¥æŸ¥çœ‹èŠå¤©è®°å½•</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå®‰è£…Javaç¯å¢ƒå¹¶éƒ¨ç½²å‘å¸ƒspringbooté¡¹ç›®</title>
      <link href="/2024/10/19/springboot/"/>
      <url>/2024/10/19/springboot/</url>
      
        <content type="html"><![CDATA[<p>éƒ¨ç½²javaå¼€å‘ç¯å¢ƒï¼š<br>ç³»ç»Ÿç¯å¢ƒ è…¾è®¯äº‘OpenCloudOS8.6</p><h5 id="1ï¼Œæ–°å»ºç›®å½•ï¼ˆéå¿…é¡»ï¼Œè‡ªè¡Œé€‰æ‹©ï¼‰"><a href="#1ï¼Œæ–°å»ºç›®å½•ï¼ˆéå¿…é¡»ï¼Œè‡ªè¡Œé€‰æ‹©ï¼‰" class="headerlink" title="1ï¼Œæ–°å»ºç›®å½•ï¼ˆéå¿…é¡»ï¼Œè‡ªè¡Œé€‰æ‹©ï¼‰"></a>1ï¼Œæ–°å»ºç›®å½•ï¼ˆéå¿…é¡»ï¼Œè‡ªè¡Œé€‰æ‹©ï¼‰</h5><p>tmpå­˜æ”¾ä¸´æ—¶å®‰è£…åŒ…</p><pre class="line-numbers language-none"><code class="language-none">mkdir -p &#x2F;data&#x2F;tmp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>#serviceå­˜æ”¾è½¯ä»¶ç¯å¢ƒ</p><pre class="line-numbers language-none"><code class="language-none">mkdir -p &#x2F;data&#x2F;service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>giteeå­˜æ”¾ä»£ç ç‰ˆæœ¬æ§åˆ¶åº“</p><pre class="line-numbers language-none"><code class="language-none">mkdir -p &#x2F;data&#x2F;gitee<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="2ï¼Œé…ç½®jdkç¯å¢ƒ"><a href="#2ï¼Œé…ç½®jdkç¯å¢ƒ" class="headerlink" title="2ï¼Œé…ç½®jdkç¯å¢ƒ"></a>2ï¼Œé…ç½®jdkç¯å¢ƒ</h5><p>è¿›å…¥å®‰è£…åŒ…ç›®å½•</p><pre class="line-numbers language-none"><code class="language-none">cd &#x2F;data&#x2F;tmp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>xshelléå¸¸å¥½ç”¨ï¼Œæœ‰æ—¶å€™æƒ³åœ¨windowså’ŒLinuxä¸Šä¸‹è½½æˆ–ä¸Šä¼ æ–‡ä»¶å¯ä»¥é€šè¿‡é…ç½®ç„¶åä½¿ç”¨rzå’Œszå‘½ä»¤å®ç°</p><pre class="line-numbers language-none"><code class="language-none"># CentOSå®‰è£…å·¥å…·lrzsz yum install lrzsz# ubuntuå®‰è£…å·¥å…·sudo apt install lrzsz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šä¼ æ–‡ä»¶ï¼Œé€šè¿‡rzå®ç°</p><p>ä¸‹è½½æ–‡ä»¶ï¼Œé€šè¿‡szå®ç°</p><p>è§£å‹</p><pre class="line-numbers language-none"><code class="language-none">tar -zxvf jdk-8u141-linux-x64.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŠŠè§£å‹å‡ºæ¥çš„æ–‡ä»¶å¤¹è½¬ç§»åˆ°ç»Ÿä¸€çš„åœ°æ–¹</p><pre class="line-numbers language-none"><code class="language-none">mv &#x2F;data&#x2F;tmp&#x2F;jdk1.8.0_141 &#x2F;data&#x2F;service&#x2F;jdk1.8.0_141<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿®æ”¹ç¯å¢ƒå˜é‡&#x2F;etc&#x2F;profileï¼ŒJAVA_HOMEä¿®æ”¹ä¸ºè‡ªå·±çš„jdkè·¯å¾„ã€‚</p><pre class="line-numbers language-none"><code class="language-none">vim &#x2F;etc&#x2F;profileexport JAVA_HOME&#x3D;&#x2F;data&#x2F;service&#x2F;jdk1.8.0_141export PATH&#x3D;$PATH:$JAVA_HOME&#x2F;bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</p><pre class="line-numbers language-none"><code class="language-none">source &#x2F;etc&#x2F;profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸ</p><pre class="line-numbers language-none"><code class="language-none">java -version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="3ï¼Œé…ç½®maven"><a href="#3ï¼Œé…ç½®maven" class="headerlink" title="3ï¼Œé…ç½®maven"></a>3ï¼Œé…ç½®maven</h5><p>è¿›å…¥å®‰è£…åŒ…ç›®å½•ï¼Œè§£å‹</p><pre class="line-numbers language-none"><code class="language-none">cd &#x2F;data&#x2F;tmptar -zxvf apache-maven-3.6.3-bin.tar.gzmv apache-maven-3.6.3 &#x2F;data&#x2F;service&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹ç¯å¢ƒå˜é‡&#x2F;etc&#x2F;profileï¼ŒMAVEN_HOMEä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„ã€‚</p><pre class="line-numbers language-none"><code class="language-none">export MAVEN_HOME&#x3D;&#x2F;data&#x2F;service&#x2F;apache-maven-3.6.3export PATH&#x3D;$PATH:$MAVEN_HOME&#x2F;bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</p><pre class="line-numbers language-none"><code class="language-none">source &#x2F;etc&#x2F;profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸ</p><pre class="line-numbers language-none"><code class="language-none">mvn -v<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é…ç½®settings.xmlï¼Œæ·»åŠ æœ¬åœ°ä»“åº“åœ°å€ &#x2F;usr&#x2F;local&#x2F;maven&#x2F;repository</p><pre class="line-numbers language-none"><code class="language-none">mkdir -p &#x2F;usr&#x2F;local&#x2F;maven&#x2F;repository<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="4ï¼Œå®‰è£…gitç¯å¢ƒ"><a href="#4ï¼Œå®‰è£…gitç¯å¢ƒ" class="headerlink" title="4ï¼Œå®‰è£…gitç¯å¢ƒ"></a>4ï¼Œå®‰è£…gitç¯å¢ƒ</h5><p>é€šè¿‡yumå®‰è£…ï¼Œæœ¬æ–¹æ³•æœ€ç®€å•ã€‚ä½†æ˜¯æ— æ³•æ§åˆ¶å®‰è£…çš„ç‰ˆæœ¬</p><pre class="line-numbers language-none"><code class="language-none">yum -y install git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸ</p><pre class="line-numbers language-none"><code class="language-none">git --version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”Ÿæˆsshkey</p><pre class="line-numbers language-none"><code class="language-none">ssh-keygen -t rsa -C &quot;xx@xx.com&quot; &#x2F;&#x2F;ï¼ˆä¸‰æ¬¡å›è½¦ï¼Œå¯å…·ä½“ä¸ªäººè‡ªå®šä¹‰é…ç½®ï¼‰cat ~&#x2F;.ssh&#x2F;id_rsa.pub<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="5ï¼Œå®‰è£…docker"><a href="#5ï¼Œå®‰è£…docker" class="headerlink" title="5ï¼Œå®‰è£…docker"></a>5ï¼Œå®‰è£…docker</h5><p>å¸è½½æ—§ç‰ˆæœ¬</p><pre class="line-numbers language-angular2html" data-language="angular2html"><code class="language-angular2html">sudo yum remove docker \                docker-client \                docker-client-latest \                docker-common \                docker-latest \                docker-latest-logrotate \                docker-logrotate \                docker-engine<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®ä»“åº“ï¼Œå®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…</p><pre class="line-numbers language-none"><code class="language-none">sudo yum install -y yum-utils device-mapper-persistent-data lvm2yum install https:&#x2F;&#x2F;download.docker.com&#x2F;linux&#x2F;fedora&#x2F;30&#x2F;x86_64&#x2F;stable&#x2F;Packages&#x2F;containerd.io-1.2.6-3.3.fc30.x86_64.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨å®˜æ–¹æºåœ°å€ï¼ˆæ¯”è¾ƒæ…¢ï¼‰</p><pre class="line-numbers language-angular2html" data-language="angular2html"><code class="language-angular2html">sudo yum-config-manager \  --add-repo \  http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;docker-ce&#x2F;linux&#x2F;centos&#x2F;docker-ce.repo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å®‰è£… Docker Engine-Community</p><pre class="line-numbers language-angular2html" data-language="angular2html"><code class="language-angular2html">sudo yum install docker-ce docker-ce-cli containerd.io<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯åŠ¨ Docker</p><pre class="line-numbers language-angular2html" data-language="angular2html"><code class="language-angular2html">sudo systemctl start docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="6ï¼Œå®‰è£…mysqlï¼ˆå¯ä½¿ç”¨äº‘æ•°æ®åº“ï¼Œè‡ªè¡Œé€‰æ‹©ï¼‰"><a href="#6ï¼Œå®‰è£…mysqlï¼ˆå¯ä½¿ç”¨äº‘æ•°æ®åº“ï¼Œè‡ªè¡Œé€‰æ‹©ï¼‰" class="headerlink" title="6ï¼Œå®‰è£…mysqlï¼ˆå¯ä½¿ç”¨äº‘æ•°æ®åº“ï¼Œè‡ªè¡Œé€‰æ‹©ï¼‰"></a>6ï¼Œå®‰è£…mysqlï¼ˆå¯ä½¿ç”¨äº‘æ•°æ®åº“ï¼Œè‡ªè¡Œé€‰æ‹©ï¼‰</h5><p>åœ¨Dockerä¸­å®‰è£…MySQLã€‚<br>æŸ¥çœ‹å¯ç”¨çš„ MySQL ç‰ˆæœ¬</p><pre class="line-numbers language-none"><code class="language-none">docker search mysql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‹‰å–5.7ç‰ˆæœ¬</p><pre class="line-numbers language-none"><code class="language-none">docker pull mysql:5.7<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ˜¯å¦å·²å®‰è£…äº† mysql</p><pre class="line-numbers language-none"><code class="language-none">docker images<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ›å»ºé…ç½®æ–‡ä»¶ç›®å½•</p><pre class="line-numbers language-none"><code class="language-none">mkdir -p &#x2F;data&#x2F;docker&#x2F;mysql&#x2F;conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿›å…¥é…ç½®æ–‡ä»¶ç›®å½•ï¼Œæ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶</p><pre class="line-numbers language-none"><code class="language-none">vim my.cnf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯åŠ¨é•œåƒ</p><pre class="line-numbers language-none"><code class="language-none">docker run -p 3306:3306 --name mysql -v &#x2F;data&#x2F;docker&#x2F;mysql&#x2F;conf:&#x2F;etc&#x2F;mysql&#x2F;conf.d -e MYSQL_ROOT_PASSWORD&#x3D;dasqW -d mysql:5.7<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿›å…¥dockerå®¹å™¨è®¾ç½®env LANG&#x3D;C.UTF-8</p><pre class="line-numbers language-none"><code class="language-none">docker exec -it mysql env LANG&#x3D;C.UTF-8 bash<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ctrl + d é€€å‡º docker bash<br>å¤–éƒ¨è¿æ¥éœ€è¦è…¾è®¯äº‘å¼€æ”¾3306ç«¯å£</p><h5 id="7ï¼Œå®‰è£…redis"><a href="#7ï¼Œå®‰è£…redis" class="headerlink" title="7ï¼Œå®‰è£…redis"></a>7ï¼Œå®‰è£…redis</h5><pre class="line-numbers language-none"><code class="language-none">docker pull redis:latestdocker run -itd --name redis-test -p 6379:6379 redis<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="8ï¼Œå®‰è£…node"><a href="#8ï¼Œå®‰è£…node" class="headerlink" title="8ï¼Œå®‰è£…node"></a>8ï¼Œå®‰è£…node</h5><pre class="line-numbers language-tar" data-language="tar"><div class="caption"><span>xf node-v14.15.4-linux-x64.tar.xz</span><a href="//">è§£å‹</a></div><code class="language-tar">cd node-v14.15.4-linux-x64&#x2F;                 &#x2F;&#x2F; è¿›å…¥è§£å‹ç›®å½•.&#x2F;bin&#x2F;node -v                               &#x2F;&#x2F; æ‰§è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>nodeå‘½ä»¤ æŸ¥çœ‹ç‰ˆæœ¬<br>è§£å‹æ–‡ä»¶çš„ bin ç›®å½•åº•ä¸‹åŒ…å«äº† nodeã€npm ç­‰å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ln å‘½ä»¤æ¥è®¾ç½®è½¯è¿æ¥</p><pre class="line-numbers language-none"><code class="language-none">mv &#x2F;data&#x2F;tmp&#x2F;node-v14.15.4-linux-x64 &#x2F;data&#x2F;service&#x2F;ln -s &#x2F;data&#x2F;service&#x2F;node-v14.15.4-linux-x64&#x2F;bin&#x2F;npm   &#x2F;usr&#x2F;local&#x2F;bin&#x2F;ln -s &#x2F;data&#x2F;service&#x2F;node-v14.15.4-linux-x64&#x2F;bin&#x2F;node   &#x2F;usr&#x2F;local&#x2F;bin&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="9ï¼Œå®‰è£…nginx"><a href="#9ï¼Œå®‰è£…nginx" class="headerlink" title="9ï¼Œå®‰è£…nginx"></a>9ï¼Œå®‰è£…nginx</h5><p>é¦–å…ˆå®‰è£…nginxå‰ç½®è½¯ä»¶</p><pre class="line-numbers language-none"><code class="language-none">yum -y install gcc pcre-devel zlib-devel openssl openssl-devel<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸‹è½½nginxè½¯ä»¶å®‰è£…åŒ…</p><pre class="line-numbers language-none"><code class="language-none">cd &#x2F;data&#x2F;tmpwget http:&#x2F;&#x2F;nginx.org&#x2F;download&#x2F;nginx-1.19.6.tar.gztar -zxvf nginx-1.19.6.tar.gzcd nginx-1.19.6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®å®‰è£…ç›®å½•ä¸º&#x2F;usr&#x2F;local&#x2F;nginx</p><pre class="line-numbers language-none"><code class="language-none">.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;nginxmakemake install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨nginx</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="10ï¼Œä»£ç "><a href="#10ï¼Œä»£ç " class="headerlink" title="10ï¼Œä»£ç "></a>10ï¼Œä»£ç </h5><p>æ–°å»ºç›®å½•ä¸Šä¼ ä»£ç ï¼ˆå®‰è£…gitçš„æƒ…å†µç›´æ¥cloneä»£ç å³å¯ï¼‰<br>&#x2F;data&#x2F;gitee&#x2F;</p><p>è§£å‹ä»£ç </p><pre class="line-numbers language-none"><code class="language-none">unzip xx.zip <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="11ï¼Œæ‰“åŒ…éƒ¨ç½²"><a href="#11ï¼Œæ‰“åŒ…éƒ¨ç½²" class="headerlink" title="11ï¼Œæ‰“åŒ…éƒ¨ç½²"></a>11ï¼Œæ‰“åŒ…éƒ¨ç½²</h5><p>cd é¡¹ç›®è·¯å¾„</p><pre class="line-numbers language-none"><code class="language-none">mvn clean package<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥çœ‹jaråŒ… cd é¡¹ç›®&#x2F;target&#x2F;<br>è¿è¡Œ</p><pre class="line-numbers language-none"><code class="language-none">mkdir -p &#x2F;data&#x2F;app&#x2F;ruoyi-vuecp &#x2F;data&#x2F;gitee&#x2F;RuoYi-Vue&#x2F;ruoyi-admin&#x2F;target&#x2F;ruoyi-admin.jar &#x2F;data&#x2F;app&#x2F;ruoyi-vue&#x2F;ruoyi-admin.jarcd &#x2F;data&#x2F;app&#x2F;ruoyi-vue&#x2F;nohup java -jar ruoyi-admin.jar &amp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å‰ç«¯ä»£ç å‘å¸ƒ<br>cd &#x2F;å‰ç«¯ç›®å½•</p><pre class="line-numbers language-none"><code class="language-none">npm installnpm run build:prodmkdir &#x2F;data&#x2F;app&#x2F;ruoyi-uimv dist&#x2F;* &#x2F;data&#x2F;app&#x2F;ruoyi-ui&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æŠŠç”Ÿæˆå¥½çš„ dist æ–‡ä»¶å¤¹çš„é™æ€æ–‡ä»¶å‘å¸ƒåˆ°ä½ çš„ nginx æˆ–è€…é™æ€æœåŠ¡å™¨å³å¯ï¼Œå…¶ä¸­çš„ index.html æ˜¯åå°æœåŠ¡çš„å…¥å£é¡µé¢ã€‚</p><pre class="line-numbers language-none"><code class="language-none">vim &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åå°ç«¯å£8080</p><pre class="line-numbers language-none"><code class="language-none">location &#x2F; &#123;    root   &#x2F;data&#x2F;app&#x2F;ruoyi-ui;    try_files $uri $uri&#x2F; &#x2F;index.html;    index index.html index.htm;&#125;location &#x2F;prod-api&#x2F; &#123;    proxy_set_header Host $http_host;    proxy_set_header X-Real-IP $remote_addr;    proxy_set_header REMOTE-HOST $remote_addr;    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    proxy_pass http:&#x2F;&#x2F;localhost:8080&#x2F;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶nginx</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s reload<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå¸¸ç”¨å‘½ä»¤</title>
      <link href="/2024/10/19/linux/"/>
      <url>/2024/10/19/linux/</url>
      
        <content type="html"><![CDATA[<h5 id="1ï¼Œmkdirå‘½ä»¤"><a href="#1ï¼Œmkdirå‘½ä»¤" class="headerlink" title="1ï¼Œmkdirå‘½ä»¤"></a>1ï¼Œmkdirå‘½ä»¤</h5><p>è¦åœ¨shellä¸­åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¯ä»¥ä½¿ç”¨mkdirå‘½ä»¤ã€‚åªéœ€æŒ‡å®šæ–°æ–‡ä»¶å¤¹çš„åç§°ï¼Œç¡®ä¿å®ƒä¸å­˜åœ¨ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹äº†ã€‚</p><p>ä¾‹å¦‚ï¼Œè¦åˆ›å»ºä¸€ä¸ªä¿å­˜æ‰€æœ‰å›¾åƒçš„ç›®å½•ï¼Œåªéœ€é”®å…¥ï¼š</p><pre class="line-numbers language-none"><code class="language-none">mkdir images&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="2ï¼Œchmodå‘½ä»¤"><a href="#2ï¼Œchmodå‘½ä»¤" class="headerlink" title="2ï¼Œchmodå‘½ä»¤"></a>2ï¼Œchmodå‘½ä»¤</h5><p>å…è®¸æ‚¨å¿«é€Ÿæ›´æ”¹æ–‡ä»¶çš„æ¨¡å¼ï¼ˆæƒé™ï¼‰ã€‚å®ƒæœ‰å¾ˆå¤šå¯ç”¨çš„é€‰é¡¹ã€‚</p><p>æ–‡ä»¶çš„åŸºæœ¬æƒé™åŒ…æ‹¬ï¼š</p><p>r (åªè¯»)<br>w (å†™å…¥)<br>x (æ‰§è¡Œ)<br>chmodæœ€å¸¸è§çš„ç”¨ä¾‹ä¹‹ä¸€æ˜¯ä½¿æ–‡ä»¶å¯ç”±ç”¨æˆ·æ‰§è¡Œã€‚ä¸ºæ­¤ï¼Œè¯·é”®å…¥chmodå’Œæ ‡å¿—+xï¼Œç„¶åé”®å…¥è¦ä¿®æ”¹å…¶æƒé™çš„æ–‡ä»¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">chmod +x script<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="3ï¼Œsudo-å‘½ä»¤"><a href="#3ï¼Œsudo-å‘½ä»¤" class="headerlink" title="3ï¼Œsudo å‘½ä»¤"></a>3ï¼Œsudo å‘½ä»¤</h5><p>æ­¤å‘½ä»¤ä»£è¡¨â€œè¶…çº§ç”¨æˆ·doâ€ï¼Œå®ƒå…è®¸æ‚¨åœ¨è¿è¡Œç‰¹å®šå‘½ä»¤æ—¶å……å½“è¶…çº§ç”¨æˆ·æˆ–æ ¹ç”¨æˆ·ã€‚è¿™å°±æ˜¯Linuxå¦‚ä½•ä¿æŠ¤è‡ªå·±ï¼Œé˜²æ­¢ç”¨æˆ·æ„å¤–ä¿®æ”¹æœºå™¨çš„æ–‡ä»¶ç³»ç»Ÿæˆ–å®‰è£…ä¸åˆé€‚çš„è½¯ä»¶åŒ…ã€‚</p><p>Sudoé€šå¸¸ç”¨äºå®‰è£…è½¯ä»¶æˆ–ç¼–è¾‘ç”¨æˆ·ä¸»ç›®å½•ä»¥å¤–çš„æ–‡ä»¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo apt install gimpsudo cd &#x2F;root&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="4ï¼Œunzip-å‘½ä»¤"><a href="#4ï¼Œunzip-å‘½ä»¤" class="headerlink" title="4ï¼Œunzip å‘½ä»¤"></a>4ï¼Œunzip å‘½ä»¤</h5><p>unzipå‘½ä»¤å…è®¸æ‚¨ä»ç»ˆç«¯æå–.zipæ–‡ä»¶çš„å†…å®¹ã€‚åŒæ ·ï¼Œé»˜è®¤æƒ…å†µä¸‹å¯èƒ½ä¸ä¼šå®‰è£…æ­¤è½¯ä»¶åŒ…ï¼Œå› æ­¤è¯·ç¡®ä¿ä½¿ç”¨packageç®¡ç†å™¨å®‰è£…å®ƒã€‚</p><p>ä¸‹é¢å‘½ä»¤è¡Œï¼ŒæŒ‡æ­£åœ¨è§£å‹ä¸€ä¸ªåŒ…å«å›¾åƒçš„.zipæ–‡ä»¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">unzip images.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="5ï¼Œecho-å‘½ä»¤"><a href="#5ï¼Œecho-å‘½ä»¤" class="headerlink" title="5ï¼Œecho å‘½ä»¤"></a>5ï¼Œecho å‘½ä»¤</h5><p>echoå‘½ä»¤åœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºå®šä¹‰çš„æ–‡æœ¬-å°±è¿™ä¹ˆç®€å•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">echo &quot;Cool message&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®ƒçš„ä¸»è¦ç”¨é€”æ˜¯åœ¨è¿™äº›æ¶ˆæ¯ä¸­æ‰“å°ç¯å¢ƒå˜é‡ï¼š</p><pre class="line-numbers language-none"><code class="language-none">echo &quot;Hey $USER&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="6ï¼Œcat-å‘½ä»¤"><a href="#6ï¼Œcat-å‘½ä»¤" class="headerlink" title="6ï¼Œcat å‘½ä»¤"></a>6ï¼Œcat å‘½ä»¤</h5><p>cat æ˜¯â€œconcatenateâ€çš„ç¼©å†™ï¼Œç”¨äºç›´æ¥ä»ç»ˆç«¯åˆ›å»ºã€æŸ¥çœ‹å’Œè¿æ¥æ–‡ä»¶ã€‚å®ƒä¸»è¦ç”¨äºåœ¨ä¸æ‰“å¼€å›¾å½¢æ–‡æœ¬ç¼–è¾‘å™¨çš„æƒ…å†µä¸‹é¢„è§ˆæ–‡ä»¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">cat long_text_file.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="7ï¼Œps-å‘½ä»¤"><a href="#7ï¼Œps-å‘½ä»¤" class="headerlink" title="7ï¼Œps å‘½ä»¤"></a>7ï¼Œps å‘½ä»¤</h5><p>ä½¿ç”¨psï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å½“å‰shellä¼šè¯æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚å®ƒæ‰“å°æœ‰å…³æ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„æœ‰ç”¨ä¿¡æ¯ï¼Œå¦‚è¿›ç¨‹IDã€TTYï¼ˆç”µä¼ æ‰“å­—æœºï¼‰ã€æ—¶é—´å’Œå‘½ä»¤åã€‚</p><h5 id="8ï¼Œvim-å‘½ä»¤"><a href="#8ï¼Œvim-å‘½ä»¤" class="headerlink" title="8ï¼Œvim å‘½ä»¤"></a>8ï¼Œvim å‘½ä»¤</h5><p>vim æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºç»ˆç«¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä»90å¹´ä»£å¼€å§‹ä½¿ç”¨ã€‚å®ƒå…è®¸æ‚¨ä½¿ç”¨é«˜æ•ˆçš„é”®ç»‘å®šç¼–è¾‘çº¯æ–‡æœ¬æ–‡ä»¶ã€‚</p><h5 id="9ï¼Œtail-å‘½ä»¤"><a href="#9ï¼Œtail-å‘½ä»¤" class="headerlink" title="9ï¼Œtail å‘½ä»¤"></a>9ï¼Œtail å‘½ä»¤</h5><p>ä¸catç±»ä¼¼ï¼Œtailæ‰“å°æ–‡ä»¶å†…å®¹æ—¶æœ‰ä¸€ä¸ªä¸»è¦è­¦å‘Šï¼šå®ƒåªè¾“å‡ºæœ€åå‡ è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒæ‰“å°æœ€å10è¡Œï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨-nä¿®æ”¹è¯¥æ•°å­—ã€‚</p><p>ä¾‹å¦‚ï¼Œè¦æ‰“å°å¤§å‹æ–‡æœ¬æ–‡ä»¶çš„æœ€åå‡ è¡Œï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p><pre class="line-numbers language-none"><code class="language-none">tail long.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="10ï¼Œhead-å‘½ä»¤"><a href="#10ï¼Œhead-å‘½ä»¤" class="headerlink" title="10ï¼Œhead å‘½ä»¤"></a>10ï¼Œhead å‘½ä»¤</h5><p>è¿™æ˜¯å¯¹tailå‘½ä»¤çš„è¡¥å……ã€‚headè¾“å‡ºæ–‡æœ¬æ–‡ä»¶çš„å‰10è¡Œï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨-næ ‡å¿—è®¾ç½®è¦æ˜¾ç¤ºçš„ä»»æ„è¡Œæ•°ï¼š</p><pre class="line-numbers language-none"><code class="language-none">head long.txthead -n 5 long.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="11ï¼Œgrep-å‘½ä»¤"><a href="#11ï¼Œgrep-å‘½ä»¤" class="headerlink" title="11ï¼Œgrep å‘½ä»¤"></a>11ï¼Œgrep å‘½ä»¤</h5><p>Grepæ˜¯å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„æœ€å¼ºå¤§çš„å·¥å…·ä¹‹ä¸€ã€‚å®ƒæœç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„è¡Œå¹¶æ‰“å°å®ƒä»¬ï¼š</p><pre class="line-numbers language-none"><code class="language-none">grep &quot;linux&quot; long.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‚¨å¯ä»¥ä½¿ç”¨-cæ ‡å¿—è®¡ç®—ä¸ç»™å®šæ¡ä»¶åŒ¹é…çš„æ¬¡æ•°ï¼š</p><pre class="line-numbers language-none"><code class="language-none">grep -c &quot;linux&quot; long.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="12ï¼Œrmå‘½ä»¤"><a href="#12ï¼Œrmå‘½ä»¤" class="headerlink" title="12ï¼Œrmå‘½ä»¤"></a>12ï¼Œrmå‘½ä»¤</h5><p>æ—¢ç„¶æ‚¨å·²ç»çŸ¥é“äº†å¦‚ä½•å¤åˆ¶æ–‡ä»¶ï¼Œé‚£ä¹ˆäº†è§£å¦‚ä½•åˆ é™¤å®ƒä»¬å°†å¾ˆæœ‰å¸®åŠ©ã€‚</p><p>æ‚¨å¯ä»¥ä½¿ç”¨rmå‘½ä»¤åˆ é™¤æ–‡ä»¶å’Œç›®å½•ã€‚ä½†åœ¨ä½¿ç”¨æ—¶è¦å°å¿ƒï¼Œå› ä¸ºç”¨è¿™ç§æ–¹æ³•æ¢å¤åˆ é™¤çš„æ–‡ä»¶éå¸¸å›°éš¾ï¼ˆä½†å¹¶éä¸å¯èƒ½ï¼‰ã€‚</p><p>è¦åˆ é™¤å¸¸è§„æ–‡ä»¶ï¼Œè¯·é”®å…¥ï¼š</p><pre class="line-numbers language-none"><code class="language-none">rm file_to_copy.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœè¦åˆ é™¤ç©ºç›®å½•ï¼Œå¯ä»¥ä½¿ç”¨é€’å½’ï¼ˆ-rï¼‰æ ‡å¿—ï¼š</p><pre class="line-numbers language-none"><code class="language-none">rm -r dir_to_remove&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦ä¸€æ–¹é¢ï¼Œè¦åˆ é™¤åŒ…å«å†…å®¹çš„ç›®å½•ï¼Œéœ€è¦ä½¿ç”¨forceï¼ˆ-fï¼‰å’Œrecursiveæ ‡å¿—ï¼š</p><pre class="line-numbers language-none"><code class="language-none">rm -rf dir_with_content_to_remove&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaä¿®æ”¹jpgå›¾ç‰‡dpi</title>
      <link href="/2024/10/19/dpi/"/>
      <url>/2024/10/19/dpi/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨çš„åŒ…çš„Oracle jdkä¸‹çš„rt.jarï¼Œopen jdk ä¸‹æ²¡æœ‰è¯¥åŒ…ï¼Œä½¿ç”¨open jdkçš„é€šè¿‡é¡¹ç›®å¼•å…¥åŒ…çš„æ–¹å¼å¯ä»¥å°†åŒ…å¯¼å…¥ï¼Œä½†ç”±äºjdkç¯å¢ƒä¸åŒï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç ä¿®æ”¹dpiå­˜åœ¨æŠ¥é”™æƒ…å†µã€‚<br>ä»£ç ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sun<span class="token punctuation">.</span>image<span class="token punctuation">.</span>codec<span class="token punctuation">.</span>jpeg<span class="token punctuation">.</span></span><span class="token class-name">JPEGCodec</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sun<span class="token punctuation">.</span>image<span class="token punctuation">.</span>codec<span class="token punctuation">.</span>jpeg<span class="token punctuation">.</span></span><span class="token class-name">JPEGEncodeParam</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>sun<span class="token punctuation">.</span>image<span class="token punctuation">.</span>codec<span class="token punctuation">.</span>jpeg<span class="token punctuation">.</span></span><span class="token class-name">JPEGImageEncoder</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>imageio<span class="token punctuation">.</span></span><span class="token class-name">ImageIO</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>image<span class="token punctuation">.</span></span><span class="token class-name">BufferedImage</span></span><span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">handleDpi</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">,</span> <span class="token keyword">int</span> dpi<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">FileOutputStream</span> fileOutputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>            fileOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">JPEGImageEncoder</span> jpegEncoder <span class="token operator">=</span> <span class="token class-name">JPEGCodec</span><span class="token punctuation">.</span><span class="token function">createJPEGEncoder</span><span class="token punctuation">(</span>fileOutputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">JPEGEncodeParam</span> jpegEncodeParam <span class="token operator">=</span> jpegEncoder<span class="token punctuation">.</span><span class="token function">getDefaultJPEGEncodeParam</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>            jpegEncodeParam<span class="token punctuation">.</span><span class="token function">setDensityUnit</span><span class="token punctuation">(</span><span class="token class-name">JPEGEncodeParam</span><span class="token punctuation">.</span><span class="token constant">DENSITY_UNIT_DOTS_INCH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            jpegEncoder<span class="token punctuation">.</span><span class="token function">setJPEGEncodeParam</span><span class="token punctuation">(</span>jpegEncodeParam<span class="token punctuation">)</span><span class="token punctuation">;</span>            jpegEncodeParam<span class="token punctuation">.</span><span class="token function">setQuality</span><span class="token punctuation">(</span><span class="token number">1.0f</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            jpegEncodeParam<span class="token punctuation">.</span><span class="token function">setXDensity</span><span class="token punctuation">(</span>dpi<span class="token punctuation">)</span><span class="token punctuation">;</span>            jpegEncodeParam<span class="token punctuation">.</span><span class="token function">setYDensity</span><span class="token punctuation">(</span>dpi<span class="token punctuation">)</span><span class="token punctuation">;</span>            jpegEncoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> jpegEncodeParam<span class="token punctuation">)</span><span class="token punctuation">;</span>            image<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">&#125;</span> <span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>fileOutputStream <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>                    fileOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼Œå½“å›¾ç‰‡ç”±æ–‡ä»¶æµè½¬æˆjpgæ ¼å¼æ—¶ï¼Œå›¾ç‰‡ä½æ·±åº¦ä¸º32æ—¶ï¼Œä¸Šé¢çš„ä»£ç ä¼šæŠ¥é”™ï¼Œéœ€å…ˆå°†è®¾ç½®å›¾ç‰‡ä½æ·±åº¦ï¼Œä»£ç ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BufferedImage</span> <span class="token function">changePNGBackgroudColor2</span><span class="token punctuation">(</span><span class="token class-name">String</span> sourceImage<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">File</span> input <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>sourceImage<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BufferedImage</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedImage</span><span class="token punctuation">(</span>                image<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                image<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token class-name">BufferedImage</span><span class="token punctuation">.</span><span class="token constant">TYPE_INT_RGB</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Graphics2D</span> graphic <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">createGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graphic<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graphic<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> dpi </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
